webpackJsonp([36],{"0E5i":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("SClT"),o=a("iBN+"),l=a("oqQY"),n=a.n(l),s=a("+4Zy"),i=a("bnSG"),m=a("9EK1"),p=a("DmSG"),c=a("TTzd"),f={mixins:[i.b,i.a],components:{CardTitle:o.a},data:function(){return{jobStatusMap:r.i,identitMap:r.h,SEX_MAP:r.a,provinceAndCityData:m.a,title:this.$route.meta.title,formDisabled:!1,submitLoading:!1,formData:{name:"",applyStatus:"",gender:"-1",nameShowType:"",birthday:"",age:null,phone:"",email:"",address:"",hideResume:!1,formItems:[]},getNewFormItem:function(){return{projectName:""}},formItemRules:[{required:!0,message:"必填项",trigger:"change"},{validator:this.validateDuplicate,trigger:["change"]}],formRules:{name:[p.a.required()],applyStatus:[p.a.required()],nameShowType:[p.a.required()],birthday:[p.a.required()],phone:[p.a.required(),p.a.mobilePhone],email:[p.a.email]},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}}}},watch:{"formData.birthday":{deep:!0,immediate:!0,handler:function(e){this.formData.age=e?n()(new Date).diff(e,"year"):null}}},created:function(){},methods:{onSubmit:function(){var e=this;this.$refs.formRef.validate(function(t){if(!t)return e.focusFirstError(e.$el),!1;e.submitLoading=!0;var a=Object(s.a)(e.formData);(e.formData.id?c.d:c.a)(a).then(function(){e.$message.success("模拟保存成功"),e.onCancel()}).finally(function(){e.submitLoading=!1})})},onCancel:function(){this.$refs.formRef.resetFields()}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-layout-wrap"},[a("el-form",{ref:"formRef",attrs:{model:e.formData,rules:e.formRules,"label-position":"right","label-width":"140px",disabled:e.formDisabled}},[a("el-card",{attrs:{shadow:"hover"}},[a("CardTitle",{attrs:{slot:"header",title:e.title},slot:"header"}),e._v(" "),a("el-row",{attrs:{type:"flex",gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name","string"==typeof t?t.trim():t)},expression:"formData.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"当前求职状态",prop:"applyStatus"}},[a("el-select",{model:{value:e.formData.applyStatus,callback:function(t){e.$set(e.formData,"applyStatus",t)},expression:"formData.applyStatus"}},e._l(e.jobStatusMap.entries(),function(e){var t=e[0],r=e[1];return a("el-option",{key:r+t,attrs:{label:r,value:t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"gender",label:"性别"}},[a("el-radio-group",{model:{value:e.formData.gender,callback:function(t){e.$set(e.formData,"gender",t)},expression:"formData.gender"}},e._l(e.SEX_MAP.entries(),function(t){var r=t[0],o=t[1];return a("el-radio",{key:o+r,attrs:{label:r}},[e._v("\n                "+e._s(o)+"\n              ")])}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"nameShowType",label:"我的牛人身份"}},[a("el-select",{model:{value:e.formData.nameShowType,callback:function(t){e.$set(e.formData,"nameShowType",t)},expression:"formData.nameShowType"}},e._l(e.identitMap.entries(),function(e){var t=e[0],r=e[1];return a("el-option",{key:r+t,attrs:{label:r,value:+t}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"出生年月",prop:"birthday"}},[a("el-date-picker",{attrs:{type:"month","value-format":"yyyy-MM-dd",placeholder:"请选择日期","picker-options":e.pickerOptions},model:{value:e.formData.birthday,callback:function(t){e.$set(e.formData,"birthday",t)},expression:"formData.birthday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"年龄",prop:"age"}},[null!==e.formData.age?a("span",[e._v(e._s(e.formData.age)+" 岁")]):a("span",{staticClass:"stl-readonly"},[e._v("选择出生年月自动填写")])])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone","string"==typeof t?t.trim():t)},expression:"formData.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email","string"==typeof t?t.trim():t)},expression:"formData.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-cascader",{attrs:{options:e.provinceAndCityData,props:{expandTrigger:"hover"}},model:{value:e.formData.address,callback:function(t){e.$set(e.formData,"address",t)},expression:"formData.address"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"隐藏简历",prop:"hideResume"}},[a("StlReSwitch",{attrs:{width:60,activeText:"公开",inactiveText:"隐藏"},model:{value:e.formData.hideResume,callback:function(t){e.$set(e.formData,"hideResume",t)},expression:"formData.hideResume"}})],1)],1),e._v(" "),a("el-divider",[e._v("动态表单")]),e._v(" "),a("el-col",{attrs:{span:12}},e._l(e.formData.formItems,function(t,r){return a("el-form-item",{key:r+"",attrs:{label:r>0?"":"项目名称",prop:"formItems."+r+".projectName",rules:e.formItemRules}},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:e.formData.formItems.length>1?22:24}},[a("el-input",{attrs:{placeholder:"请输入"},on:{input:e.handleFormItemChange},model:{value:t.projectName,callback:function(a){e.$set(t,"projectName","string"==typeof a?a.trim():a)},expression:"item.projectName"}})],1),e._v(" "),a("el-col",{attrs:{span:1,offset:1}},[a("span",{staticClass:"stl-hover",staticStyle:{"font-size":"16px"}},[e.formData.formItems.length>1?a("i",{staticClass:"el-icon-remove-outline cursor-pointer",on:{click:function(a){return a.preventDefault(),e.removeFormItem(t)}}}):e._e()])])],1)],1)}),1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-form-item",[a("el-button",{attrs:{type:"ghost",icon:"el-icon-plus"},on:{click:e.addFormItem}},[e._v("\n                添加项目\n              ")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:e.formDisabled,sumbit:e.submitLoading},on:{click:e.onSubmit}},[e._v("\n              提交\n            ")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:e.onCancel}},[e._v("重置")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(f,u,!1,function(e){a("yobW")},null,null);t.default=d.exports},yobW:function(e,t){}});