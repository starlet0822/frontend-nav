import{aO as $a,a2 as Dn,r as qt,g as _a,f as ga,w as bt,k as An,c as Lt,j as mn,m as pn,z as wa}from"./index-f893409e.js";import{_ as Ea}from"./plugin-vueexport-helper-c27b6911.js";var dr={exports:{}},Mn={},He={},nt={},It={},Z={},kt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(T){if(super(),!e.IDENTIFIER.test(T))throw new Error("CodeGen: name must be a valid identifier");this.str=T}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class o extends t{constructor(T){super(),this._items=typeof T=="string"?[T]:T}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const T=this._items[0];return T===""||T==='""'}get str(){var T;return(T=this._str)!==null&&T!==void 0?T:this._str=this._items.reduce((P,I)=>`${P}${I}`,"")}get names(){var T;return(T=this._names)!==null&&T!==void 0?T:this._names=this._items.reduce((P,I)=>(I instanceof r&&(P[I.str]=(P[I.str]||0)+1),P),{})}}e._Code=o,e.nil=new o("");function n(y,...T){const P=[y[0]];let I=0;for(;I<T.length;)i(P,T[I]),P.push(y[++I]);return new o(P)}e._=n;const c=new o("+");function l(y,...T){const P=[E(y[0])];let I=0;for(;I<T.length;)P.push(c),i(P,T[I]),P.push(c,E(y[++I]));return u(P),new o(P)}e.str=l;function i(y,T){T instanceof o?y.push(...T._items):T instanceof r?y.push(T):y.push(v(T))}e.addCodeArg=i;function u(y){let T=1;for(;T<y.length-1;){if(y[T]===c){const P=h(y[T-1],y[T+1]);if(P!==void 0){y.splice(T-1,3,P);continue}y[T++]="+"}T++}}function h(y,T){if(T==='""')return y;if(y==='""')return T;if(typeof y=="string")return T instanceof r||y[y.length-1]!=='"'?void 0:typeof T!="string"?`${y.slice(0,-1)}${T}"`:T[0]==='"'?y.slice(0,-1)+T.slice(1):void 0;if(typeof T=="string"&&T[0]==='"'&&!(y instanceof r))return`"${y}${T.slice(1)}`}function f(y,T){return T.emptyStr()?y:y.emptyStr()?T:l`${y}${T}`}e.strConcat=f;function v(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:E(Array.isArray(y)?y.join(","):y)}function O(y){return new o(E(y))}e.stringify=O;function E(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=E;function _(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new o(`.${y}`):n`[${y}]`}e.getProperty=_;function w(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new o(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=w;function g(y){return new o(y.toString())}e.regexpCode=g})(kt);var fr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=kt;class r extends Error{constructor(h){super(`CodeGen: "code" for ${h} not defined`),this.value=h.value}}var o;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(o=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class n{constructor({prefixes:h,parent:f}={}){this._names={},this._prefixes=h,this._parent=f}toName(h){return h instanceof t.Name?h:this.name(h)}name(h){return new t.Name(this._newName(h))}_newName(h){const f=this._names[h]||this._nameGroup(h);return`${h}${f.index++}`}_nameGroup(h){var f,v;if(!((v=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||v===void 0)&&v.has(h)||this._prefixes&&!this._prefixes.has(h))throw new Error(`CodeGen: prefix "${h}" is not allowed in this scope`);return this._names[h]={prefix:h,index:0}}}e.Scope=n;class c extends t.Name{constructor(h,f){super(f),this.prefix=h}setValue(h,{property:f,itemIndex:v}){this.value=h,this.scopePath=(0,t._)`.${new t.Name(f)}[${v}]`}}e.ValueScopeName=c;const l=(0,t._)`\n`;class i extends n{constructor(h){super(h),this._values={},this._scope=h.scope,this.opts={...h,_n:h.lines?l:t.nil}}get(){return this._scope}name(h){return new c(h,this._newName(h))}value(h,f){var v;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const O=this.toName(h),{prefix:E}=O,_=(v=f.key)!==null&&v!==void 0?v:f.ref;let w=this._values[E];if(w){const T=w.get(_);if(T)return T}else w=this._values[E]=new Map;w.set(_,O);const g=this._scope[E]||(this._scope[E]=[]),y=g.length;return g[y]=f.ref,O.setValue(f,{property:E,itemIndex:y}),O}getValue(h,f){const v=this._values[h];if(v)return v.get(f)}scopeRefs(h,f=this._values){return this._reduceValues(f,v=>{if(v.scopePath===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return(0,t._)`${h}${v.scopePath}`})}scopeCode(h=this._values,f,v){return this._reduceValues(h,O=>{if(O.value===void 0)throw new Error(`CodeGen: name "${O}" has no value`);return O.value.code},f,v)}_reduceValues(h,f,v={},O){let E=t.nil;for(const _ in h){const w=h[_];if(!w)continue;const g=v[_]=v[_]||new Map;w.forEach(y=>{if(g.has(y))return;g.set(y,o.Started);let T=f(y);if(T){const P=this.opts.es5?e.varKinds.var:e.varKinds.const;E=(0,t._)`${E}${P} ${y} = ${T};${this.opts._n}`}else if(T=O==null?void 0:O(y))E=(0,t._)`${E}${T}${this.opts._n}`;else throw new r(y);g.set(y,o.Completed)})}return E}}e.ValueScope=i})(fr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=kt,r=fr;var o=kt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return o.Name}});var n=fr;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class c{optimizeNodes(){return this}optimizeNames(a,m){return this}}class l extends c{constructor(a,m,D){super(),this.varKind=a,this.name=m,this.rhs=D}render({es5:a,_n:m}){const D=a?r.varKinds.var:this.varKind,L=this.rhs===void 0?"":` = ${this.rhs}`;return`${D} ${this.name}${L};`+m}optimizeNames(a,m){if(a[this.name.str])return this.rhs&&(this.rhs=re(this.rhs,a,m)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class i extends c{constructor(a,m,D){super(),this.lhs=a,this.rhs=m,this.sideEffects=D}render({_n:a}){return`${this.lhs} = ${this.rhs};`+a}optimizeNames(a,m){if(!(this.lhs instanceof t.Name&&!a[this.lhs.str]&&!this.sideEffects))return this.rhs=re(this.rhs,a,m),this}get names(){const a=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ae(a,this.rhs)}}class u extends i{constructor(a,m,D,L){super(a,D,L),this.op=m}render({_n:a}){return`${this.lhs} ${this.op}= ${this.rhs};`+a}}class h extends c{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){return`${this.label}:`+a}}class f extends c{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){return`break${this.label?` ${this.label}`:""};`+a}}class v extends c{constructor(a){super(),this.error=a}render({_n:a}){return`throw ${this.error};`+a}get names(){return this.error.names}}class O extends c{constructor(a){super(),this.code=a}render({_n:a}){return`${this.code};`+a}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(a,m){return this.code=re(this.code,a,m),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class E extends c{constructor(a=[]){super(),this.nodes=a}render(a){return this.nodes.reduce((m,D)=>m+D.render(a),"")}optimizeNodes(){const{nodes:a}=this;let m=a.length;for(;m--;){const D=a[m].optimizeNodes();Array.isArray(D)?a.splice(m,1,...D):D?a[m]=D:a.splice(m,1)}return a.length>0?this:void 0}optimizeNames(a,m){const{nodes:D}=this;let L=D.length;for(;L--;){const H=D[L];H.optimizeNames(a,m)||(be(a,H.names),D.splice(L,1))}return D.length>0?this:void 0}get names(){return this.nodes.reduce((a,m)=>B(a,m.names),{})}}class _ extends E{render(a){return"{"+a._n+super.render(a)+"}"+a._n}}class w extends E{}class g extends _{}g.kind="else";class y extends _{constructor(a,m){super(m),this.condition=a}render(a){let m=`if(${this.condition})`+super.render(a);return this.else&&(m+="else "+this.else.render(a)),m}optimizeNodes(){super.optimizeNodes();const a=this.condition;if(a===!0)return this.nodes;let m=this.else;if(m){const D=m.optimizeNodes();m=this.else=Array.isArray(D)?new g(D):D}if(m)return a===!1?m instanceof y?m:m.nodes:this.nodes.length?this:new y(Me(a),m instanceof y?[m]:m.nodes);if(!(a===!1||!this.nodes.length))return this}optimizeNames(a,m){var D;if(this.else=(D=this.else)===null||D===void 0?void 0:D.optimizeNames(a,m),!!(super.optimizeNames(a,m)||this.else))return this.condition=re(this.condition,a,m),this}get names(){const a=super.names;return ae(a,this.condition),this.else&&B(a,this.else.names),a}}y.kind="if";class T extends _{}T.kind="for";class P extends T{constructor(a){super(),this.iteration=a}render(a){return`for(${this.iteration})`+super.render(a)}optimizeNames(a,m){if(super.optimizeNames(a,m))return this.iteration=re(this.iteration,a,m),this}get names(){return B(super.names,this.iteration.names)}}class I extends T{constructor(a,m,D,L){super(),this.varKind=a,this.name=m,this.from=D,this.to=L}render(a){const m=a.es5?r.varKinds.var:this.varKind,{name:D,from:L,to:H}=this;return`for(${m} ${D}=${L}; ${D}<${H}; ${D}++)`+super.render(a)}get names(){const a=ae(super.names,this.from);return ae(a,this.to)}}class z extends T{constructor(a,m,D,L){super(),this.loop=a,this.varKind=m,this.name=D,this.iterable=L}render(a){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(a)}optimizeNames(a,m){if(super.optimizeNames(a,m))return this.iterable=re(this.iterable,a,m),this}get names(){return B(super.names,this.iterable.names)}}class N extends _{constructor(a,m,D){super(),this.name=a,this.args=m,this.async=D}render(a){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(a)}}N.kind="func";class k extends E{render(a){return"return "+super.render(a)}}k.kind="return";class V extends _{render(a){let m="try"+super.render(a);return this.catch&&(m+=this.catch.render(a)),this.finally&&(m+=this.finally.render(a)),m}optimizeNodes(){var a,m;return super.optimizeNodes(),(a=this.catch)===null||a===void 0||a.optimizeNodes(),(m=this.finally)===null||m===void 0||m.optimizeNodes(),this}optimizeNames(a,m){var D,L;return super.optimizeNames(a,m),(D=this.catch)===null||D===void 0||D.optimizeNames(a,m),(L=this.finally)===null||L===void 0||L.optimizeNames(a,m),this}get names(){const a=super.names;return this.catch&&B(a,this.catch.names),this.finally&&B(a,this.finally.names),a}}class F extends _{constructor(a){super(),this.error=a}render(a){return`catch(${this.error})`+super.render(a)}}F.kind="catch";class K extends _{render(a){return"finally"+super.render(a)}}K.kind="finally";class Q{constructor(a,m={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...m,_n:m.lines?`
`:""},this._extScope=a,this._scope=new r.Scope({parent:a}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(a){return this._scope.name(a)}scopeName(a){return this._extScope.name(a)}scopeValue(a,m){const D=this._extScope.value(a,m);return(this._values[D.prefix]||(this._values[D.prefix]=new Set)).add(D),D}getScopeValue(a,m){return this._extScope.getValue(a,m)}scopeRefs(a){return this._extScope.scopeRefs(a,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(a,m,D,L){const H=this._scope.toName(m);return D!==void 0&&L&&(this._constants[H.str]=D),this._leafNode(new l(a,H,D)),H}const(a,m,D){return this._def(r.varKinds.const,a,m,D)}let(a,m,D){return this._def(r.varKinds.let,a,m,D)}var(a,m,D){return this._def(r.varKinds.var,a,m,D)}assign(a,m,D){return this._leafNode(new i(a,m,D))}add(a,m){return this._leafNode(new u(a,e.operators.ADD,m))}code(a){return typeof a=="function"?a():a!==t.nil&&this._leafNode(new O(a)),this}object(...a){const m=["{"];for(const[D,L]of a)m.length>1&&m.push(","),m.push(D),(D!==L||this.opts.es5)&&(m.push(":"),(0,t.addCodeArg)(m,L));return m.push("}"),new t._Code(m)}if(a,m,D){if(this._blockNode(new y(a)),m&&D)this.code(m).else().code(D).endIf();else if(m)this.code(m).endIf();else if(D)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(a){return this._elseNode(new y(a))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(y,g)}_for(a,m){return this._blockNode(a),m&&this.code(m).endFor(),this}for(a,m){return this._for(new P(a),m)}forRange(a,m,D,L,H=this.opts.es5?r.varKinds.var:r.varKinds.let){const x=this._scope.toName(a);return this._for(new I(H,x,m,D),()=>L(x))}forOf(a,m,D,L=r.varKinds.const){const H=this._scope.toName(a);if(this.opts.es5){const x=m instanceof t.Name?m:this.var("_arr",m);return this.forRange("_i",0,(0,t._)`${x}.length`,ee=>{this.var(H,(0,t._)`${x}[${ee}]`),D(H)})}return this._for(new z("of",L,H,m),()=>D(H))}forIn(a,m,D,L=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(a,(0,t._)`Object.keys(${m})`,D);const H=this._scope.toName(a);return this._for(new z("in",L,H,m),()=>D(H))}endFor(){return this._endBlockNode(T)}label(a){return this._leafNode(new h(a))}break(a){return this._leafNode(new f(a))}return(a){const m=new k;if(this._blockNode(m),this.code(a),m.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(k)}try(a,m,D){if(!m&&!D)throw new Error('CodeGen: "try" without "catch" and "finally"');const L=new V;if(this._blockNode(L),this.code(a),m){const H=this.name("e");this._currNode=L.catch=new F(H),m(H)}return D&&(this._currNode=L.finally=new K,this.code(D)),this._endBlockNode(F,K)}throw(a){return this._leafNode(new v(a))}block(a,m){return this._blockStarts.push(this._nodes.length),a&&this.code(a).endBlock(m),this}endBlock(a){const m=this._blockStarts.pop();if(m===void 0)throw new Error("CodeGen: not in self-balancing block");const D=this._nodes.length-m;if(D<0||a!==void 0&&D!==a)throw new Error(`CodeGen: wrong number of nodes: ${D} vs ${a} expected`);return this._nodes.length=m,this}func(a,m=t.nil,D,L){return this._blockNode(new N(a,m,D)),L&&this.code(L).endFunc(),this}endFunc(){return this._endBlockNode(N)}optimize(a=1){for(;a-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(a){return this._currNode.nodes.push(a),this}_blockNode(a){this._currNode.nodes.push(a),this._nodes.push(a)}_endBlockNode(a,m){const D=this._currNode;if(D instanceof a||m&&D instanceof m)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${m?`${a.kind}/${m.kind}`:a.kind}"`)}_elseNode(a){const m=this._currNode;if(!(m instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=m.else=a,this}get _root(){return this._nodes[0]}get _currNode(){const a=this._nodes;return a[a.length-1]}set _currNode(a){const m=this._nodes;m[m.length-1]=a}}e.CodeGen=Q;function B(C,a){for(const m in a)C[m]=(C[m]||0)+(a[m]||0);return C}function ae(C,a){return a instanceof t._CodeOrName?B(C,a.names):C}function re(C,a,m){if(C instanceof t.Name)return D(C);if(!L(C))return C;return new t._Code(C._items.reduce((H,x)=>(x instanceof t.Name&&(x=D(x)),x instanceof t._Code?H.push(...x._items):H.push(x),H),[]));function D(H){const x=m[H.str];return x===void 0||a[H.str]!==1?H:(delete a[H.str],x)}function L(H){return H instanceof t._Code&&H._items.some(x=>x instanceof t.Name&&a[x.str]===1&&m[x.str]!==void 0)}}function be(C,a){for(const m in a)C[m]=(C[m]||0)-(a[m]||0)}function Me(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${M(C)}`}e.not=Me;const Le=b(e.operators.AND);function Ze(...C){return C.reduce(Le)}e.and=Ze;const Be=b(e.operators.OR);function q(...C){return C.reduce(Be)}e.or=q;function b(C){return(a,m)=>a===t.nil?m:m===t.nil?a:(0,t._)`${M(a)} ${C} ${M(m)}`}function M(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(Z);var oe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Z,r=kt;function o(N){const k={};for(const V of N)k[V]=!0;return k}e.toHash=o;function n(N,k){return typeof k=="boolean"?k:Object.keys(k).length===0?!0:(c(N,k),!l(k,N.self.RULES.all))}e.alwaysValidSchema=n;function c(N,k=N.schema){const{opts:V,self:F}=N;if(!V.strictSchema||typeof k=="boolean")return;const K=F.RULES.keywords;for(const Q in k)K[Q]||z(N,`unknown keyword: "${Q}"`)}e.checkUnknownRules=c;function l(N,k){if(typeof N=="boolean")return!N;for(const V in N)if(k[V])return!0;return!1}e.schemaHasRules=l;function i(N,k){if(typeof N=="boolean")return!N;for(const V in N)if(V!=="$ref"&&k.all[V])return!0;return!1}e.schemaHasRulesButRef=i;function u({topSchemaRef:N,schemaPath:k},V,F,K){if(!K){if(typeof V=="number"||typeof V=="boolean")return V;if(typeof V=="string")return(0,t._)`${V}`}return(0,t._)`${N}${k}${(0,t.getProperty)(F)}`}e.schemaRefOrVal=u;function h(N){return O(decodeURIComponent(N))}e.unescapeFragment=h;function f(N){return encodeURIComponent(v(N))}e.escapeFragment=f;function v(N){return typeof N=="number"?`${N}`:N.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=v;function O(N){return N.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=O;function E(N,k){if(Array.isArray(N))for(const V of N)k(V);else k(N)}e.eachItem=E;function _({mergeNames:N,mergeToName:k,mergeValues:V,resultToName:F}){return(K,Q,B,ae)=>{const re=B===void 0?Q:B instanceof t.Name?(Q instanceof t.Name?N(K,Q,B):k(K,Q,B),B):Q instanceof t.Name?(k(K,B,Q),Q):V(Q,B);return ae===t.Name&&!(re instanceof t.Name)?F(K,re):re}}e.mergeEvaluated={props:_({mergeNames:(N,k,V)=>N.if((0,t._)`${V} !== true && ${k} !== undefined`,()=>{N.if((0,t._)`${k} === true`,()=>N.assign(V,!0),()=>N.assign(V,(0,t._)`${V} || {}`).code((0,t._)`Object.assign(${V}, ${k})`))}),mergeToName:(N,k,V)=>N.if((0,t._)`${V} !== true`,()=>{k===!0?N.assign(V,!0):(N.assign(V,(0,t._)`${V} || {}`),g(N,V,k))}),mergeValues:(N,k)=>N===!0?!0:{...N,...k},resultToName:w}),items:_({mergeNames:(N,k,V)=>N.if((0,t._)`${V} !== true && ${k} !== undefined`,()=>N.assign(V,(0,t._)`${k} === true ? true : ${V} > ${k} ? ${V} : ${k}`)),mergeToName:(N,k,V)=>N.if((0,t._)`${V} !== true`,()=>N.assign(V,k===!0?!0:(0,t._)`${V} > ${k} ? ${V} : ${k}`)),mergeValues:(N,k)=>N===!0?!0:Math.max(N,k),resultToName:(N,k)=>N.var("items",k)})};function w(N,k){if(k===!0)return N.var("props",!0);const V=N.var("props",(0,t._)`{}`);return k!==void 0&&g(N,V,k),V}e.evaluatedPropsToName=w;function g(N,k,V){Object.keys(V).forEach(F=>N.assign((0,t._)`${k}${(0,t.getProperty)(F)}`,!0))}e.setEvaluated=g;const y={};function T(N,k){return N.scopeValue("func",{ref:k,code:y[k.code]||(y[k.code]=new r._Code(k.code))})}e.useFunc=T;var P;(function(N){N[N.Num=0]="Num",N[N.Str=1]="Str"})(P=e.Type||(e.Type={}));function I(N,k,V){if(N instanceof t.Name){const F=k===P.Num;return V?F?(0,t._)`"[" + ${N} + "]"`:(0,t._)`"['" + ${N} + "']"`:F?(0,t._)`"/" + ${N}`:(0,t._)`"/" + ${N}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return V?(0,t.getProperty)(N).toString():"/"+v(N)}e.getErrorPath=I;function z(N,k,V=N.opts.strictSchema){if(V){if(k=`strict mode: ${k}`,V===!0)throw new Error(k);N.self.logger.warn(k)}}e.checkStrictMode=z})(oe);var qe={};Object.defineProperty(qe,"__esModule",{value:!0});const Se=Z,ba={data:new Se.Name("data"),valCxt:new Se.Name("valCxt"),instancePath:new Se.Name("instancePath"),parentData:new Se.Name("parentData"),parentDataProperty:new Se.Name("parentDataProperty"),rootData:new Se.Name("rootData"),dynamicAnchors:new Se.Name("dynamicAnchors"),vErrors:new Se.Name("vErrors"),errors:new Se.Name("errors"),this:new Se.Name("this"),self:new Se.Name("self"),scope:new Se.Name("scope"),json:new Se.Name("json"),jsonPos:new Se.Name("jsonPos"),jsonLen:new Se.Name("jsonLen"),jsonPart:new Se.Name("jsonPart")};qe.default=ba;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Z,r=oe,o=qe;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:y})=>y?(0,t.str)`"${g}" keyword must be ${y} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function n(g,y=e.keywordError,T,P){const{it:I}=g,{gen:z,compositeRule:N,allErrors:k}=I,V=v(g,y,T);P??(N||k)?u(z,V):h(I,(0,t._)`[${V}]`)}e.reportError=n;function c(g,y=e.keywordError,T){const{it:P}=g,{gen:I,compositeRule:z,allErrors:N}=P,k=v(g,y,T);u(I,k),z||N||h(P,o.default.vErrors)}e.reportExtraError=c;function l(g,y){g.assign(o.default.errors,y),g.if((0,t._)`${o.default.vErrors} !== null`,()=>g.if(y,()=>g.assign((0,t._)`${o.default.vErrors}.length`,y),()=>g.assign(o.default.vErrors,null)))}e.resetErrorsCount=l;function i({gen:g,keyword:y,schemaValue:T,data:P,errsCount:I,it:z}){if(I===void 0)throw new Error("ajv implementation error");const N=g.name("err");g.forRange("i",I,o.default.errors,k=>{g.const(N,(0,t._)`${o.default.vErrors}[${k}]`),g.if((0,t._)`${N}.instancePath === undefined`,()=>g.assign((0,t._)`${N}.instancePath`,(0,t.strConcat)(o.default.instancePath,z.errorPath))),g.assign((0,t._)`${N}.schemaPath`,(0,t.str)`${z.errSchemaPath}/${y}`),z.opts.verbose&&(g.assign((0,t._)`${N}.schema`,T),g.assign((0,t._)`${N}.data`,P))})}e.extendErrors=i;function u(g,y){const T=g.const("err",y);g.if((0,t._)`${o.default.vErrors} === null`,()=>g.assign(o.default.vErrors,(0,t._)`[${T}]`),(0,t._)`${o.default.vErrors}.push(${T})`),g.code((0,t._)`${o.default.errors}++`)}function h(g,y){const{gen:T,validateName:P,schemaEnv:I}=g;I.$async?T.throw((0,t._)`new ${g.ValidationError}(${y})`):(T.assign((0,t._)`${P}.errors`,y),T.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function v(g,y,T){const{createErrors:P}=g.it;return P===!1?(0,t._)`{}`:O(g,y,T)}function O(g,y,T={}){const{gen:P,it:I}=g,z=[E(I,T),_(g,T)];return w(g,y,z),P.object(...z)}function E({errorPath:g},{instancePath:y}){const T=y?(0,t.str)`${g}${(0,r.getErrorPath)(y,r.Type.Str)}`:g;return[o.default.instancePath,(0,t.strConcat)(o.default.instancePath,T)]}function _({keyword:g,it:{errSchemaPath:y}},{schemaPath:T,parentSchema:P}){let I=P?y:(0,t.str)`${y}/${g}`;return T&&(I=(0,t.str)`${I}${(0,r.getErrorPath)(T,r.Type.Str)}`),[f.schemaPath,I]}function w(g,{params:y,message:T},P){const{keyword:I,data:z,schemaValue:N,it:k}=g,{opts:V,propertyName:F,topSchemaRef:K,schemaPath:Q}=k;P.push([f.keyword,I],[f.params,typeof y=="function"?y(g):y||(0,t._)`{}`]),V.messages&&P.push([f.message,typeof T=="function"?T(g):T]),V.verbose&&P.push([f.schema,N],[f.parentSchema,(0,t._)`${K}${Q}`],[o.default.data,z]),F&&P.push([f.propertyName,F])}})(It);var yn;function Sa(){if(yn)return nt;yn=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.boolOrEmptySchema=nt.topBoolOrEmptySchema=void 0;const e=It,t=Z,r=qe,o={message:"boolean schema is false"};function n(i){const{gen:u,schema:h,validateName:f}=i;h===!1?l(i,!1):typeof h=="object"&&h.$async===!0?u.return(r.default.data):(u.assign((0,t._)`${f}.errors`,null),u.return(!0))}nt.topBoolOrEmptySchema=n;function c(i,u){const{gen:h,schema:f}=i;f===!1?(h.var(u,!1),l(i)):h.var(u,!0)}nt.boolOrEmptySchema=c;function l(i,u){const{gen:h,data:f}=i,v={gen:h,keyword:"false schema",data:f,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};(0,e.reportError)(v,o,void 0,u)}return nt}var jt={},it={};Object.defineProperty(it,"__esModule",{value:!0});it.getRules=it.isJSONType=void 0;const Pa=["string","number","integer","boolean","null","object","array"],Na=new Set(Pa);function Oa(e){return typeof e=="string"&&Na.has(e)}it.isJSONType=Oa;function Ca(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}it.getRules=Ca;var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.shouldUseRule=Je.shouldUseGroup=Je.schemaHasRulesForType=void 0;function Ta({schema:e,self:t},r){const o=t.RULES.types[r];return o&&o!==!0&&Vn(e,o)}Je.schemaHasRulesForType=Ta;function Vn(e,t){return t.rules.some(r=>zn(e,r))}Je.shouldUseGroup=Vn;function zn(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(o=>e[o]!==void 0))}Je.shouldUseRule=zn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=it,r=Je,o=It,n=Z,c=oe;var l;(function(P){P[P.Correct=0]="Correct",P[P.Wrong=1]="Wrong"})(l=e.DataType||(e.DataType={}));function i(P){const I=u(P.type);if(I.includes("null")){if(P.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!I.length&&P.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');P.nullable===!0&&I.push("null")}return I}e.getSchemaTypes=i;function u(P){const I=Array.isArray(P)?P:P?[P]:[];if(I.every(t.isJSONType))return I;throw new Error("type must be JSONType or JSONType[]: "+I.join(","))}e.getJSONTypes=u;function h(P,I){const{gen:z,data:N,opts:k}=P,V=v(I,k.coerceTypes),F=I.length>0&&!(V.length===0&&I.length===1&&(0,r.schemaHasRulesForType)(P,I[0]));if(F){const K=w(I,N,k.strictNumbers,l.Wrong);z.if(K,()=>{V.length?O(P,I,V):y(P)})}return F}e.coerceAndCheckDataType=h;const f=new Set(["string","number","integer","boolean","null"]);function v(P,I){return I?P.filter(z=>f.has(z)||I==="array"&&z==="array"):[]}function O(P,I,z){const{gen:N,data:k,opts:V}=P,F=N.let("dataType",(0,n._)`typeof ${k}`),K=N.let("coerced",(0,n._)`undefined`);V.coerceTypes==="array"&&N.if((0,n._)`${F} == 'object' && Array.isArray(${k}) && ${k}.length == 1`,()=>N.assign(k,(0,n._)`${k}[0]`).assign(F,(0,n._)`typeof ${k}`).if(w(I,k,V.strictNumbers),()=>N.assign(K,k))),N.if((0,n._)`${K} !== undefined`);for(const B of z)(f.has(B)||B==="array"&&V.coerceTypes==="array")&&Q(B);N.else(),y(P),N.endIf(),N.if((0,n._)`${K} !== undefined`,()=>{N.assign(k,K),E(P,K)});function Q(B){switch(B){case"string":N.elseIf((0,n._)`${F} == "number" || ${F} == "boolean"`).assign(K,(0,n._)`"" + ${k}`).elseIf((0,n._)`${k} === null`).assign(K,(0,n._)`""`);return;case"number":N.elseIf((0,n._)`${F} == "boolean" || ${k} === null
              || (${F} == "string" && ${k} && ${k} == +${k})`).assign(K,(0,n._)`+${k}`);return;case"integer":N.elseIf((0,n._)`${F} === "boolean" || ${k} === null
              || (${F} === "string" && ${k} && ${k} == +${k} && !(${k} % 1))`).assign(K,(0,n._)`+${k}`);return;case"boolean":N.elseIf((0,n._)`${k} === "false" || ${k} === 0 || ${k} === null`).assign(K,!1).elseIf((0,n._)`${k} === "true" || ${k} === 1`).assign(K,!0);return;case"null":N.elseIf((0,n._)`${k} === "" || ${k} === 0 || ${k} === false`),N.assign(K,null);return;case"array":N.elseIf((0,n._)`${F} === "string" || ${F} === "number"
              || ${F} === "boolean" || ${k} === null`).assign(K,(0,n._)`[${k}]`)}}}function E({gen:P,parentData:I,parentDataProperty:z},N){P.if((0,n._)`${I} !== undefined`,()=>P.assign((0,n._)`${I}[${z}]`,N))}function _(P,I,z,N=l.Correct){const k=N===l.Correct?n.operators.EQ:n.operators.NEQ;let V;switch(P){case"null":return(0,n._)`${I} ${k} null`;case"array":V=(0,n._)`Array.isArray(${I})`;break;case"object":V=(0,n._)`${I} && typeof ${I} == "object" && !Array.isArray(${I})`;break;case"integer":V=F((0,n._)`!(${I} % 1) && !isNaN(${I})`);break;case"number":V=F();break;default:return(0,n._)`typeof ${I} ${k} ${P}`}return N===l.Correct?V:(0,n.not)(V);function F(K=n.nil){return(0,n.and)((0,n._)`typeof ${I} == "number"`,K,z?(0,n._)`isFinite(${I})`:n.nil)}}e.checkDataType=_;function w(P,I,z,N){if(P.length===1)return _(P[0],I,z,N);let k;const V=(0,c.toHash)(P);if(V.array&&V.object){const F=(0,n._)`typeof ${I} != "object"`;k=V.null?F:(0,n._)`!${I} || ${F}`,delete V.null,delete V.array,delete V.object}else k=n.nil;V.number&&delete V.integer;for(const F in V)k=(0,n.and)(k,_(F,I,z,N));return k}e.checkDataTypes=w;const g={message:({schema:P})=>`must be ${P}`,params:({schema:P,schemaValue:I})=>typeof P=="string"?(0,n._)`{type: ${P}}`:(0,n._)`{type: ${I}}`};function y(P){const I=T(P);(0,o.reportError)(I,g)}e.reportTypeError=y;function T(P){const{gen:I,data:z,schema:N}=P,k=(0,c.schemaRefOrVal)(P,N,"type");return{gen:I,keyword:"type",data:z,schema:N.type,schemaCode:k,schemaValue:k,parentSchema:N,params:{},it:P}}})(jt);var St={},vn;function Ra(){if(vn)return St;vn=1,Object.defineProperty(St,"__esModule",{value:!0}),St.assignDefaults=void 0;const e=Z,t=oe;function r(n,c){const{properties:l,items:i}=n.schema;if(c==="object"&&l)for(const u in l)o(n,u,l[u].default);else c==="array"&&Array.isArray(i)&&i.forEach((u,h)=>o(n,h,u.default))}St.assignDefaults=r;function o(n,c,l){const{gen:i,compositeRule:u,data:h,opts:f}=n;if(l===void 0)return;const v=(0,e._)`${h}${(0,e.getProperty)(c)}`;if(u){(0,t.checkStrictMode)(n,`default is ignored for: ${v}`);return}let O=(0,e._)`${v} === undefined`;f.useDefaults==="empty"&&(O=(0,e._)`${O} || ${v} === null || ${v} === ""`),i.if(O,(0,e._)`${v} = ${(0,e.stringify)(l)}`)}return St}var je={},te={};Object.defineProperty(te,"__esModule",{value:!0});te.validateUnion=te.validateArray=te.usePattern=te.callValidateCode=te.schemaProperties=te.allSchemaProperties=te.noPropertyInData=te.propertyInData=te.isOwnProperty=te.hasPropFunc=te.reportMissingProp=te.checkMissingProp=te.checkReportMissingProp=void 0;const ue=Z,_r=oe,Xe=qe,ka=oe;function ja(e,t){const{gen:r,data:o,it:n}=e;r.if(wr(r,o,t,n.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ue._)`${t}`},!0),e.error()})}te.checkReportMissingProp=ja;function Ia({gen:e,data:t,it:{opts:r}},o,n){return(0,ue.or)(...o.map(c=>(0,ue.and)(wr(e,t,c,r.ownProperties),(0,ue._)`${n} = ${c}`)))}te.checkMissingProp=Ia;function Da(e,t){e.setParams({missingProperty:t},!0),e.error()}te.reportMissingProp=Da;function Fn(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ue._)`Object.prototype.hasOwnProperty`})}te.hasPropFunc=Fn;function gr(e,t,r){return(0,ue._)`${Fn(e)}.call(${t}, ${r})`}te.isOwnProperty=gr;function Aa(e,t,r,o){const n=(0,ue._)`${t}${(0,ue.getProperty)(r)} !== undefined`;return o?(0,ue._)`${n} && ${gr(e,t,r)}`:n}te.propertyInData=Aa;function wr(e,t,r,o){const n=(0,ue._)`${t}${(0,ue.getProperty)(r)} === undefined`;return o?(0,ue.or)(n,(0,ue.not)(gr(e,t,r))):n}te.noPropertyInData=wr;function Un(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}te.allSchemaProperties=Un;function Ma(e,t){return Un(t).filter(r=>!(0,_r.alwaysValidSchema)(e,t[r]))}te.schemaProperties=Ma;function Va({schemaCode:e,data:t,it:{gen:r,topSchemaRef:o,schemaPath:n,errorPath:c},it:l},i,u,h){const f=h?(0,ue._)`${e}, ${t}, ${o}${n}`:t,v=[[Xe.default.instancePath,(0,ue.strConcat)(Xe.default.instancePath,c)],[Xe.default.parentData,l.parentData],[Xe.default.parentDataProperty,l.parentDataProperty],[Xe.default.rootData,Xe.default.rootData]];l.opts.dynamicRef&&v.push([Xe.default.dynamicAnchors,Xe.default.dynamicAnchors]);const O=(0,ue._)`${f}, ${r.object(...v)}`;return u!==ue.nil?(0,ue._)`${i}.call(${u}, ${O})`:(0,ue._)`${i}(${O})`}te.callValidateCode=Va;const za=(0,ue._)`new RegExp`;function Fa({gen:e,it:{opts:t}},r){const o=t.unicodeRegExp?"u":"",{regExp:n}=t.code,c=n(r,o);return e.scopeValue("pattern",{key:c.toString(),ref:c,code:(0,ue._)`${n.code==="new RegExp"?za:(0,ka.useFunc)(e,n)}(${r}, ${o})`})}te.usePattern=Fa;function Ua(e){const{gen:t,data:r,keyword:o,it:n}=e,c=t.name("valid");if(n.allErrors){const i=t.let("valid",!0);return l(()=>t.assign(i,!1)),i}return t.var(c,!0),l(()=>t.break()),c;function l(i){const u=t.const("len",(0,ue._)`${r}.length`);t.forRange("i",0,u,h=>{e.subschema({keyword:o,dataProp:h,dataPropType:_r.Type.Num},c),t.if((0,ue.not)(c),i)})}}te.validateArray=Ua;function qa(e){const{gen:t,schema:r,keyword:o,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,_r.alwaysValidSchema)(n,u))&&!n.opts.unevaluated)return;const l=t.let("valid",!1),i=t.name("_valid");t.block(()=>r.forEach((u,h)=>{const f=e.subschema({keyword:o,schemaProp:h,compositeRule:!0},i);t.assign(l,(0,ue._)`${l} || ${i}`),e.mergeValidEvaluated(f,i)||t.if((0,ue.not)(l))})),e.result(l,()=>e.reset(),()=>e.error(!0))}te.validateUnion=qa;var $n;function La(){if($n)return je;$n=1,Object.defineProperty(je,"__esModule",{value:!0}),je.validateKeywordUsage=je.validSchemaType=je.funcKeywordCode=je.macroKeywordCode=void 0;const e=Z,t=qe,r=te,o=It;function n(O,E){const{gen:_,keyword:w,schema:g,parentSchema:y,it:T}=O,P=E.macro.call(T.self,g,y,T),I=h(_,w,P);T.opts.validateSchema!==!1&&T.self.validateSchema(P,!0);const z=_.name("valid");O.subschema({schema:P,schemaPath:e.nil,errSchemaPath:`${T.errSchemaPath}/${w}`,topSchemaRef:I,compositeRule:!0},z),O.pass(z,()=>O.error(!0))}je.macroKeywordCode=n;function c(O,E){var _;const{gen:w,keyword:g,schema:y,parentSchema:T,$data:P,it:I}=O;u(I,E);const z=!P&&E.compile?E.compile.call(I.self,y,T,I):E.validate,N=h(w,g,z),k=w.let("valid");O.block$data(k,V),O.ok((_=E.valid)!==null&&_!==void 0?_:k);function V(){if(E.errors===!1)Q(),E.modifying&&l(O),B(()=>O.error());else{const ae=E.async?F():K();E.modifying&&l(O),B(()=>i(O,ae))}}function F(){const ae=w.let("ruleErrs",null);return w.try(()=>Q((0,e._)`await `),re=>w.assign(k,!1).if((0,e._)`${re} instanceof ${I.ValidationError}`,()=>w.assign(ae,(0,e._)`${re}.errors`),()=>w.throw(re))),ae}function K(){const ae=(0,e._)`${N}.errors`;return w.assign(ae,null),Q(e.nil),ae}function Q(ae=E.async?(0,e._)`await `:e.nil){const re=I.opts.passContext?t.default.this:t.default.self,be=!("compile"in E&&!P||E.schema===!1);w.assign(k,(0,e._)`${ae}${(0,r.callValidateCode)(O,N,re,be)}`,E.modifying)}function B(ae){var re;w.if((0,e.not)((re=E.valid)!==null&&re!==void 0?re:k),ae)}}je.funcKeywordCode=c;function l(O){const{gen:E,data:_,it:w}=O;E.if(w.parentData,()=>E.assign(_,(0,e._)`${w.parentData}[${w.parentDataProperty}]`))}function i(O,E){const{gen:_}=O;_.if((0,e._)`Array.isArray(${E})`,()=>{_.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${E} : ${t.default.vErrors}.concat(${E})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,o.extendErrors)(O)},()=>O.error())}function u({schemaEnv:O},E){if(E.async&&!O.$async)throw new Error("async keyword in sync schema")}function h(O,E,_){if(_===void 0)throw new Error(`keyword "${E}" failed to compile`);return O.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,e.stringify)(_)})}function f(O,E,_=!1){return!E.length||E.some(w=>w==="array"?Array.isArray(O):w==="object"?O&&typeof O=="object"&&!Array.isArray(O):typeof O==w||_&&typeof O>"u")}je.validSchemaType=f;function v({schema:O,opts:E,self:_,errSchemaPath:w},g,y){if(Array.isArray(g.keyword)?!g.keyword.includes(y):g.keyword!==y)throw new Error("ajv implementation error");const T=g.dependencies;if(T!=null&&T.some(P=>!Object.prototype.hasOwnProperty.call(O,P)))throw new Error(`parent schema must have dependencies of ${y}: ${T.join(",")}`);if(g.validateSchema&&!g.validateSchema(O[y])){const I=`keyword "${y}" value is invalid at path "${w}": `+_.errorsText(g.validateSchema.errors);if(E.validateSchema==="log")_.logger.error(I);else throw new Error(I)}}return je.validateKeywordUsage=v,je}var Ge={},_n;function Ka(){if(_n)return Ge;_n=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.extendSubschemaMode=Ge.extendSubschemaData=Ge.getSubschema=void 0;const e=Z,t=oe;function r(c,{keyword:l,schemaProp:i,schema:u,schemaPath:h,errSchemaPath:f,topSchemaRef:v}){if(l!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(l!==void 0){const O=c.schema[l];return i===void 0?{schema:O,schemaPath:(0,e._)`${c.schemaPath}${(0,e.getProperty)(l)}`,errSchemaPath:`${c.errSchemaPath}/${l}`}:{schema:O[i],schemaPath:(0,e._)`${c.schemaPath}${(0,e.getProperty)(l)}${(0,e.getProperty)(i)}`,errSchemaPath:`${c.errSchemaPath}/${l}/${(0,t.escapeFragment)(i)}`}}if(u!==void 0){if(h===void 0||f===void 0||v===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:h,topSchemaRef:v,errSchemaPath:f}}throw new Error('either "keyword" or "schema" must be passed')}Ge.getSubschema=r;function o(c,l,{dataProp:i,dataPropType:u,data:h,dataTypes:f,propertyName:v}){if(h!==void 0&&i!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:O}=l;if(i!==void 0){const{errorPath:_,dataPathArr:w,opts:g}=l,y=O.let("data",(0,e._)`${l.data}${(0,e.getProperty)(i)}`,!0);E(y),c.errorPath=(0,e.str)`${_}${(0,t.getErrorPath)(i,u,g.jsPropertySyntax)}`,c.parentDataProperty=(0,e._)`${i}`,c.dataPathArr=[...w,c.parentDataProperty]}if(h!==void 0){const _=h instanceof e.Name?h:O.let("data",h,!0);E(_),v!==void 0&&(c.propertyName=v)}f&&(c.dataTypes=f);function E(_){c.data=_,c.dataLevel=l.dataLevel+1,c.dataTypes=[],l.definedProperties=new Set,c.parentData=l.data,c.dataNames=[...l.dataNames,_]}}Ge.extendSubschemaData=o;function n(c,{jtdDiscriminator:l,jtdMetadata:i,compositeRule:u,createErrors:h,allErrors:f}){u!==void 0&&(c.compositeRule=u),h!==void 0&&(c.createErrors=h),f!==void 0&&(c.allErrors=f),c.jtdDiscriminator=l,c.jtdMetadata=i}return Ge.extendSubschemaMode=n,Ge}var Ee={},qn=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var o,n,c;if(Array.isArray(t)){if(o=t.length,o!=r.length)return!1;for(n=o;n--!==0;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(c=Object.keys(t),o=c.length,o!==Object.keys(r).length)return!1;for(n=o;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,c[n]))return!1;for(n=o;n--!==0;){var l=c[n];if(!e(t[l],r[l]))return!1}return!0}return t!==t&&r!==r},Ln={exports:{}},Ye=Ln.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var o=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};Wt(t,o,n,e,"",e)};Ye.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ye.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ye.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ye.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Wt(e,t,r,o,n,c,l,i,u,h){if(o&&typeof o=="object"&&!Array.isArray(o)){t(o,n,c,l,i,u,h);for(var f in o){var v=o[f];if(Array.isArray(v)){if(f in Ye.arrayKeywords)for(var O=0;O<v.length;O++)Wt(e,t,r,v[O],n+"/"+f+"/"+O,c,n,f,o,O)}else if(f in Ye.propsKeywords){if(v&&typeof v=="object")for(var E in v)Wt(e,t,r,v[E],n+"/"+f+"/"+Ha(E),c,n,f,o,E)}else(f in Ye.keywords||e.allKeys&&!(f in Ye.skipKeywords))&&Wt(e,t,r,v,n+"/"+f,c,n,f,o)}r(o,n,c,l,i,u,h)}}function Ha(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Ga=Ln.exports;Object.defineProperty(Ee,"__esModule",{value:!0});Ee.getSchemaRefs=Ee.resolveUrl=Ee.normalizeId=Ee._getFullPath=Ee.getFullPath=Ee.inlineRef=void 0;const Ja=oe,Ba=qn,Wa=Ga,Xa=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Qa(e,t=!0){return typeof e=="boolean"?!0:t===!0?!hr(e):t?Kn(e)<=t:!1}Ee.inlineRef=Qa;const Ya=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hr(e){for(const t in e){if(Ya.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(hr)||typeof r=="object"&&hr(r))return!0}return!1}function Kn(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Xa.has(r)&&(typeof e[r]=="object"&&(0,Ja.eachItem)(e[r],o=>t+=Kn(o)),t===1/0))return 1/0}return t}function Hn(e,t="",r){r!==!1&&(t=mt(t));const o=e.parse(t);return Gn(e,o)}Ee.getFullPath=Hn;function Gn(e,t){return e.serialize(t).split("#")[0]+"#"}Ee._getFullPath=Gn;const Za=/#\/?$/;function mt(e){return e?e.replace(Za,""):""}Ee.normalizeId=mt;function xa(e,t,r){return r=mt(r),e.resolve(t,r)}Ee.resolveUrl=xa;const es=/^[a-z_][-a-z0-9._]*$/i;function ts(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:o}=this.opts,n=mt(e[r]||t),c={"":n},l=Hn(o,n,!1),i={},u=new Set;return Wa(e,{allKeys:!0},(v,O,E,_)=>{if(_===void 0)return;const w=l+O;let g=c[_];typeof v[r]=="string"&&(g=y.call(this,v[r])),T.call(this,v.$anchor),T.call(this,v.$dynamicAnchor),c[O]=g;function y(P){const I=this.opts.uriResolver.resolve;if(P=mt(g?I(g,P):P),u.has(P))throw f(P);u.add(P);let z=this.refs[P];return typeof z=="string"&&(z=this.refs[z]),typeof z=="object"?h(v,z.schema,P):P!==mt(w)&&(P[0]==="#"?(h(v,i[P],P),i[P]=v):this.refs[P]=w),P}function T(P){if(typeof P=="string"){if(!es.test(P))throw new Error(`invalid anchor "${P}"`);y.call(this,`#${P}`)}}}),i;function h(v,O,E){if(O!==void 0&&!Ba(v,O))throw f(E)}function f(v){return new Error(`reference "${v}" resolves to more than one schema`)}}Ee.getSchemaRefs=ts;var gn;function rr(){if(gn)return He;gn=1,Object.defineProperty(He,"__esModule",{value:!0}),He.getData=He.KeywordCxt=He.validateFunctionCode=void 0;const e=Sa(),t=jt,r=Je,o=jt,n=Ra(),c=La(),l=Ka(),i=Z,u=qe,h=Ee,f=oe,v=It;function O($){if(z($)&&(k($),I($))){g($);return}E($,()=>(0,e.topBoolOrEmptySchema)($))}He.validateFunctionCode=O;function E({gen:$,validateName:S,schema:A,schemaEnv:U,opts:G},X){G.code.es5?$.func(S,(0,i._)`${u.default.data}, ${u.default.valCxt}`,U.$async,()=>{$.code((0,i._)`"use strict"; ${T(A,G)}`),w($,G),$.code(X)}):$.func(S,(0,i._)`${u.default.data}, ${_(G)}`,U.$async,()=>$.code(T(A,G)).code(X))}function _($){return(0,i._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${$.dynamicRef?(0,i._)`, ${u.default.dynamicAnchors}={}`:i.nil}}={}`}function w($,S){$.if(u.default.valCxt,()=>{$.var(u.default.instancePath,(0,i._)`${u.default.valCxt}.${u.default.instancePath}`),$.var(u.default.parentData,(0,i._)`${u.default.valCxt}.${u.default.parentData}`),$.var(u.default.parentDataProperty,(0,i._)`${u.default.valCxt}.${u.default.parentDataProperty}`),$.var(u.default.rootData,(0,i._)`${u.default.valCxt}.${u.default.rootData}`),S.dynamicRef&&$.var(u.default.dynamicAnchors,(0,i._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{$.var(u.default.instancePath,(0,i._)`""`),$.var(u.default.parentData,(0,i._)`undefined`),$.var(u.default.parentDataProperty,(0,i._)`undefined`),$.var(u.default.rootData,u.default.data),S.dynamicRef&&$.var(u.default.dynamicAnchors,(0,i._)`{}`)})}function g($){const{schema:S,opts:A,gen:U}=$;E($,()=>{A.$comment&&S.$comment&&ae($),K($),U.let(u.default.vErrors,null),U.let(u.default.errors,0),A.unevaluated&&y($),V($),re($)})}function y($){const{gen:S,validateName:A}=$;$.evaluated=S.const("evaluated",(0,i._)`${A}.evaluated`),S.if((0,i._)`${$.evaluated}.dynamicProps`,()=>S.assign((0,i._)`${$.evaluated}.props`,(0,i._)`undefined`)),S.if((0,i._)`${$.evaluated}.dynamicItems`,()=>S.assign((0,i._)`${$.evaluated}.items`,(0,i._)`undefined`))}function T($,S){const A=typeof $=="object"&&$[S.schemaId];return A&&(S.code.source||S.code.process)?(0,i._)`/*# sourceURL=${A} */`:i.nil}function P($,S){if(z($)&&(k($),I($))){N($,S);return}(0,e.boolOrEmptySchema)($,S)}function I({schema:$,self:S}){if(typeof $=="boolean")return!$;for(const A in $)if(S.RULES.all[A])return!0;return!1}function z($){return typeof $.schema!="boolean"}function N($,S){const{schema:A,gen:U,opts:G}=$;G.$comment&&A.$comment&&ae($),Q($),B($);const X=U.const("_errs",u.default.errors);V($,X),U.var(S,(0,i._)`${X} === ${u.default.errors}`)}function k($){(0,f.checkUnknownRules)($),F($)}function V($,S){if($.opts.jtd)return Me($,[],!1,S);const A=(0,t.getSchemaTypes)($.schema),U=(0,t.coerceAndCheckDataType)($,A);Me($,A,!U,S)}function F($){const{schema:S,errSchemaPath:A,opts:U,self:G}=$;S.$ref&&U.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(S,G.RULES)&&G.logger.warn(`$ref: keywords ignored in schema at path "${A}"`)}function K($){const{schema:S,opts:A}=$;S.default!==void 0&&A.useDefaults&&A.strictSchema&&(0,f.checkStrictMode)($,"default is ignored in the schema root")}function Q($){const S=$.schema[$.opts.schemaId];S&&($.baseId=(0,h.resolveUrl)($.opts.uriResolver,$.baseId,S))}function B($){if($.schema.$async&&!$.schemaEnv.$async)throw new Error("async schema in sync schema")}function ae({gen:$,schemaEnv:S,schema:A,errSchemaPath:U,opts:G}){const X=A.$comment;if(G.$comment===!0)$.code((0,i._)`${u.default.self}.logger.log(${X})`);else if(typeof G.$comment=="function"){const ve=(0,i.str)`${U}/$comment`,Pe=$.scopeValue("root",{ref:S.root});$.code((0,i._)`${u.default.self}.opts.$comment(${X}, ${ve}, ${Pe}.schema)`)}}function re($){const{gen:S,schemaEnv:A,validateName:U,ValidationError:G,opts:X}=$;A.$async?S.if((0,i._)`${u.default.errors} === 0`,()=>S.return(u.default.data),()=>S.throw((0,i._)`new ${G}(${u.default.vErrors})`)):(S.assign((0,i._)`${U}.errors`,u.default.vErrors),X.unevaluated&&be($),S.return((0,i._)`${u.default.errors} === 0`))}function be({gen:$,evaluated:S,props:A,items:U}){A instanceof i.Name&&$.assign((0,i._)`${S}.props`,A),U instanceof i.Name&&$.assign((0,i._)`${S}.items`,U)}function Me($,S,A,U){const{gen:G,schema:X,data:ve,allErrors:Pe,opts:_e,self:ge}=$,{RULES:$e}=ge;if(X.$ref&&(_e.ignoreKeywordsWithRef||!(0,f.schemaHasRulesButRef)(X,$e))){G.block(()=>L($,"$ref",$e.all.$ref.definition));return}_e.jtd||Ze($,S),G.block(()=>{for(const fe of $e.rules)Ce(fe);Ce($e.post)});function Ce(fe){(0,r.shouldUseGroup)(X,fe)&&(fe.type?(G.if((0,o.checkDataType)(fe.type,ve,_e.strictNumbers)),Le($,fe),S.length===1&&S[0]===fe.type&&A&&(G.else(),(0,o.reportTypeError)($)),G.endIf()):Le($,fe),Pe||G.if((0,i._)`${u.default.errors} === ${U||0}`))}}function Le($,S){const{gen:A,schema:U,opts:{useDefaults:G}}=$;G&&(0,n.assignDefaults)($,S.type),A.block(()=>{for(const X of S.rules)(0,r.shouldUseRule)(U,X)&&L($,X.keyword,X.definition,S.type)})}function Ze($,S){$.schemaEnv.meta||!$.opts.strictTypes||(Be($,S),$.opts.allowUnionTypes||q($,S),b($,$.dataTypes))}function Be($,S){if(S.length){if(!$.dataTypes.length){$.dataTypes=S;return}S.forEach(A=>{C($.dataTypes,A)||m($,`type "${A}" not allowed by context "${$.dataTypes.join(",")}"`)}),a($,S)}}function q($,S){S.length>1&&!(S.length===2&&S.includes("null"))&&m($,"use allowUnionTypes to allow union type keyword")}function b($,S){const A=$.self.RULES.all;for(const U in A){const G=A[U];if(typeof G=="object"&&(0,r.shouldUseRule)($.schema,G)){const{type:X}=G.definition;X.length&&!X.some(ve=>M(S,ve))&&m($,`missing type "${X.join(",")}" for keyword "${U}"`)}}}function M($,S){return $.includes(S)||S==="number"&&$.includes("integer")}function C($,S){return $.includes(S)||S==="integer"&&$.includes("number")}function a($,S){const A=[];for(const U of $.dataTypes)C(S,U)?A.push(U):S.includes("integer")&&U==="number"&&A.push("integer");$.dataTypes=A}function m($,S){const A=$.schemaEnv.baseId+$.errSchemaPath;S+=` at "${A}" (strictTypes)`,(0,f.checkStrictMode)($,S,$.opts.strictTypes)}class D{constructor(S,A,U){if((0,c.validateKeywordUsage)(S,A,U),this.gen=S.gen,this.allErrors=S.allErrors,this.keyword=U,this.data=S.data,this.schema=S.schema[U],this.$data=A.$data&&S.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(S,this.schema,U,this.$data),this.schemaType=A.schemaType,this.parentSchema=S.schema,this.params={},this.it=S,this.def=A,this.$data)this.schemaCode=S.gen.const("vSchema",ee(this.$data,S));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,A.schemaType,A.allowUndefined))throw new Error(`${U} value must be ${JSON.stringify(A.schemaType)}`);("code"in A?A.trackErrors:A.errors!==!1)&&(this.errsCount=S.gen.const("_errs",u.default.errors))}result(S,A,U){this.failResult((0,i.not)(S),A,U)}failResult(S,A,U){this.gen.if(S),U?U():this.error(),A?(this.gen.else(),A(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(S,A){this.failResult((0,i.not)(S),void 0,A)}fail(S){if(S===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(S),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(S){if(!this.$data)return this.fail(S);const{schemaCode:A}=this;this.fail((0,i._)`${A} !== undefined && (${(0,i.or)(this.invalid$data(),S)})`)}error(S,A,U){if(A){this.setParams(A),this._error(S,U),this.setParams({});return}this._error(S,U)}_error(S,A){(S?v.reportExtraError:v.reportError)(this,this.def.error,A)}$dataError(){(0,v.reportError)(this,this.def.$dataError||v.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,v.resetErrorsCount)(this.gen,this.errsCount)}ok(S){this.allErrors||this.gen.if(S)}setParams(S,A){A?Object.assign(this.params,S):this.params=S}block$data(S,A,U=i.nil){this.gen.block(()=>{this.check$data(S,U),A()})}check$data(S=i.nil,A=i.nil){if(!this.$data)return;const{gen:U,schemaCode:G,schemaType:X,def:ve}=this;U.if((0,i.or)((0,i._)`${G} === undefined`,A)),S!==i.nil&&U.assign(S,!0),(X.length||ve.validateSchema)&&(U.elseIf(this.invalid$data()),this.$dataError(),S!==i.nil&&U.assign(S,!1)),U.else()}invalid$data(){const{gen:S,schemaCode:A,schemaType:U,def:G,it:X}=this;return(0,i.or)(ve(),Pe());function ve(){if(U.length){if(!(A instanceof i.Name))throw new Error("ajv implementation error");const _e=Array.isArray(U)?U:[U];return(0,i._)`${(0,o.checkDataTypes)(_e,A,X.opts.strictNumbers,o.DataType.Wrong)}`}return i.nil}function Pe(){if(G.validateSchema){const _e=S.scopeValue("validate$data",{ref:G.validateSchema});return(0,i._)`!${_e}(${A})`}return i.nil}}subschema(S,A){const U=(0,l.getSubschema)(this.it,S);(0,l.extendSubschemaData)(U,this.it,S),(0,l.extendSubschemaMode)(U,S);const G={...this.it,...U,items:void 0,props:void 0};return P(G,A),G}mergeEvaluated(S,A){const{it:U,gen:G}=this;U.opts.unevaluated&&(U.props!==!0&&S.props!==void 0&&(U.props=f.mergeEvaluated.props(G,S.props,U.props,A)),U.items!==!0&&S.items!==void 0&&(U.items=f.mergeEvaluated.items(G,S.items,U.items,A)))}mergeValidEvaluated(S,A){const{it:U,gen:G}=this;if(U.opts.unevaluated&&(U.props!==!0||U.items!==!0))return G.if(A,()=>this.mergeEvaluated(S,i.Name)),!0}}He.KeywordCxt=D;function L($,S,A,U){const G=new D($,A,S);"code"in A?A.code(G,U):G.$data&&A.validate?(0,c.funcKeywordCode)(G,A):"macro"in A?(0,c.macroKeywordCode)(G,A):(A.compile||A.validate)&&(0,c.funcKeywordCode)(G,A)}const H=/^\/(?:[^~]|~0|~1)*$/,x=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ee($,{dataLevel:S,dataNames:A,dataPathArr:U}){let G,X;if($==="")return u.default.rootData;if($[0]==="/"){if(!H.test($))throw new Error(`Invalid JSON-pointer: ${$}`);G=$,X=u.default.rootData}else{const ge=x.exec($);if(!ge)throw new Error(`Invalid JSON-pointer: ${$}`);const $e=+ge[1];if(G=ge[2],G==="#"){if($e>=S)throw new Error(_e("property/index",$e));return U[S-$e]}if($e>S)throw new Error(_e("data",$e));if(X=A[S-$e],!G)return X}let ve=X;const Pe=G.split("/");for(const ge of Pe)ge&&(X=(0,i._)`${X}${(0,i.getProperty)((0,f.unescapeJsonPointer)(ge))}`,ve=(0,i._)`${ve} && ${X}`);return ve;function _e(ge,$e){return`Cannot access ${ge} ${$e} levels up, current level is ${S}`}}return He.getData=ee,He}var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});class rs extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Dt.default=rs;var At={};Object.defineProperty(At,"__esModule",{value:!0});const ir=Ee;class ns extends Error{constructor(t,r,o,n){super(n||`can't resolve reference ${o} from id ${r}`),this.missingRef=(0,ir.resolveUrl)(t,r,o),this.missingSchema=(0,ir.normalizeId)((0,ir.getFullPath)(t,this.missingRef))}}At.default=ns;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.resolveSchema=Oe.getCompilingSchema=Oe.resolveRef=Oe.compileSchema=Oe.SchemaEnv=void 0;const Ie=Z,as=Dt,at=qe,Ae=Ee,wn=oe,ss=rr();class nr{constructor(t){var r;this.refs={},this.dynamicAnchors={};let o;typeof t.schema=="object"&&(o=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Ae.normalizeId)(o==null?void 0:o[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=o==null?void 0:o.$async,this.refs={}}}Oe.SchemaEnv=nr;function Er(e){const t=Jn.call(this,e);if(t)return t;const r=(0,Ae.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:o,lines:n}=this.opts.code,{ownProperties:c}=this.opts,l=new Ie.CodeGen(this.scope,{es5:o,lines:n,ownProperties:c});let i;e.$async&&(i=l.scopeValue("Error",{ref:as.default,code:(0,Ie._)`require("ajv/dist/runtime/validation_error").default`}));const u=l.scopeName("validate");e.validateName=u;const h={gen:l,allErrors:this.opts.allErrors,data:at.default.data,parentData:at.default.parentData,parentDataProperty:at.default.parentDataProperty,dataNames:[at.default.data],dataPathArr:[Ie.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ie.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:i,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ie.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ie._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,ss.validateFunctionCode)(h),l.optimize(this.opts.code.optimize);const v=l.toString();f=`${l.scopeRefs(at.default.scope)}return ${v}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const E=new Function(`${at.default.self}`,`${at.default.scope}`,f)(this,this.scope.get());if(this.scope.value(u,{ref:E}),E.errors=null,E.schema=e.schema,E.schemaEnv=e,e.$async&&(E.$async=!0),this.opts.code.source===!0&&(E.source={validateName:u,validateCode:v,scopeValues:l._values}),this.opts.unevaluated){const{props:_,items:w}=h;E.evaluated={props:_ instanceof Ie.Name?void 0:_,items:w instanceof Ie.Name?void 0:w,dynamicProps:_ instanceof Ie.Name,dynamicItems:w instanceof Ie.Name},E.source&&(E.source.evaluated=(0,Ie.stringify)(E.evaluated))}return e.validate=E,e}catch(v){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),v}finally{this._compilations.delete(e)}}Oe.compileSchema=Er;function os(e,t,r){var o;r=(0,Ae.resolveUrl)(this.opts.uriResolver,t,r);const n=e.refs[r];if(n)return n;let c=us.call(this,e,r);if(c===void 0){const l=(o=e.localRefs)===null||o===void 0?void 0:o[r],{schemaId:i}=this.opts;l&&(c=new nr({schema:l,schemaId:i,root:e,baseId:t}))}if(c!==void 0)return e.refs[r]=is.call(this,c)}Oe.resolveRef=os;function is(e){return(0,Ae.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Er.call(this,e)}function Jn(e){for(const t of this._compilations)if(cs(t,e))return t}Oe.getCompilingSchema=Jn;function cs(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function us(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||ar.call(this,e,t)}function ar(e,t){const r=this.opts.uriResolver.parse(t),o=(0,Ae._getFullPath)(this.opts.uriResolver,r);let n=(0,Ae.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&o===n)return cr.call(this,r,e);const c=(0,Ae.normalizeId)(o),l=this.refs[c]||this.schemas[c];if(typeof l=="string"){const i=ar.call(this,e,l);return typeof(i==null?void 0:i.schema)!="object"?void 0:cr.call(this,r,i)}if(typeof(l==null?void 0:l.schema)=="object"){if(l.validate||Er.call(this,l),c===(0,Ae.normalizeId)(t)){const{schema:i}=l,{schemaId:u}=this.opts,h=i[u];return h&&(n=(0,Ae.resolveUrl)(this.opts.uriResolver,n,h)),new nr({schema:i,schemaId:u,root:e,baseId:n})}return cr.call(this,r,l)}}Oe.resolveSchema=ar;const ls=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function cr(e,{baseId:t,schema:r,root:o}){var n;if(((n=e.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const i of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const u=r[(0,wn.unescapeFragment)(i)];if(u===void 0)return;r=u;const h=typeof r=="object"&&r[this.opts.schemaId];!ls.has(i)&&h&&(t=(0,Ae.resolveUrl)(this.opts.uriResolver,t,h))}let c;if(typeof r!="boolean"&&r.$ref&&!(0,wn.schemaHasRulesButRef)(r,this.RULES)){const i=(0,Ae.resolveUrl)(this.opts.uriResolver,t,r.$ref);c=ar.call(this,o,i)}const{schemaId:l}=this.opts;if(c=c||new nr({schema:r,schemaId:l,root:o,baseId:t}),c.schema!==c.root.schema)return c}const ds="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",fs="Meta-schema for $data reference (JSON AnySchema extension proposal)",hs="object",ms=["$data"],ps={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},ys=!1,vs={$id:ds,description:fs,type:hs,required:ms,properties:ps,additionalProperties:ys};var br={},mr={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,o){o(t)})($a,function(r){function o(){for(var d=arguments.length,s=Array(d),p=0;p<d;p++)s[p]=arguments[p];if(s.length>1){s[0]=s[0].slice(0,-1);for(var j=s.length-1,R=1;R<j;++R)s[R]=s[R].slice(1,-1);return s[j]=s[j].slice(1),s.join("")}else return s[0]}function n(d){return"(?:"+d+")"}function c(d){return d===void 0?"undefined":d===null?"null":Object.prototype.toString.call(d).split(" ").pop().split("]").shift().toLowerCase()}function l(d){return d.toUpperCase()}function i(d){return d!=null?d instanceof Array?d:typeof d.length!="number"||d.split||d.setInterval||d.call?[d]:Array.prototype.slice.call(d):[]}function u(d,s){var p=d;if(s)for(var j in s)p[j]=s[j];return p}function h(d){var s="[A-Za-z]",p="[0-9]",j=o(p,"[A-Fa-f]"),R=n(n("%[EFef]"+j+"%"+j+j+"%"+j+j)+"|"+n("%[89A-Fa-f]"+j+"%"+j+j)+"|"+n("%"+j+j)),J="[\\:\\/\\?\\#\\[\\]\\@]",W="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",se=o(J,W),ce=d?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",he=d?"[\\uE000-\\uF8FF]":"[]",ne=o(s,p,"[\\-\\.\\_\\~]",ce);n(s+o(s,p,"[\\+\\-\\.]")+"*"),n(n(R+"|"+o(ne,W,"[\\:]"))+"*");var ie=n(n("25[0-5]")+"|"+n("2[0-4]"+p)+"|"+n("1"+p+p)+"|"+n("0?[1-9]"+p)+"|0?0?"+p),me=n(ie+"\\."+ie+"\\."+ie+"\\."+ie),Y=n(j+"{1,4}"),le=n(n(Y+"\\:"+Y)+"|"+me),ye=n(n(Y+"\\:")+"{6}"+le),de=n("\\:\\:"+n(Y+"\\:")+"{5}"+le),We=n(n(Y)+"?\\:\\:"+n(Y+"\\:")+"{4}"+le),ze=n(n(n(Y+"\\:")+"{0,1}"+Y)+"?\\:\\:"+n(Y+"\\:")+"{3}"+le),Fe=n(n(n(Y+"\\:")+"{0,2}"+Y)+"?\\:\\:"+n(Y+"\\:")+"{2}"+le),dt=n(n(n(Y+"\\:")+"{0,3}"+Y)+"?\\:\\:"+Y+"\\:"+le),tt=n(n(n(Y+"\\:")+"{0,4}"+Y)+"?\\:\\:"+le),Re=n(n(n(Y+"\\:")+"{0,5}"+Y)+"?\\:\\:"+Y),Ue=n(n(n(Y+"\\:")+"{0,6}"+Y)+"?\\:\\:"),rt=n([ye,de,We,ze,Fe,dt,tt,Re,Ue].join("|")),Ke=n(n(ne+"|"+R)+"+");n("[vV]"+j+"+\\."+o(ne,W,"[\\:]")+"+"),n(n(R+"|"+o(ne,W))+"*");var wt=n(R+"|"+o(ne,W,"[\\:\\@]"));return n(n(R+"|"+o(ne,W,"[\\@]"))+"+"),n(n(wt+"|"+o("[\\/\\?]",he))+"*"),{NOT_SCHEME:new RegExp(o("[^]",s,p,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(o("[^\\%\\:]",ne,W),"g"),NOT_HOST:new RegExp(o("[^\\%\\[\\]\\:]",ne,W),"g"),NOT_PATH:new RegExp(o("[^\\%\\/\\:\\@]",ne,W),"g"),NOT_PATH_NOSCHEME:new RegExp(o("[^\\%\\/\\@]",ne,W),"g"),NOT_QUERY:new RegExp(o("[^\\%]",ne,W,"[\\:\\@\\/\\?]",he),"g"),NOT_FRAGMENT:new RegExp(o("[^\\%]",ne,W,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(o("[^]",ne,W),"g"),UNRESERVED:new RegExp(ne,"g"),OTHER_CHARS:new RegExp(o("[^\\%]",ne,se),"g"),PCT_ENCODED:new RegExp(R,"g"),IPV4ADDRESS:new RegExp("^("+me+")$"),IPV6ADDRESS:new RegExp("^\\[?("+rt+")"+n(n("\\%25|\\%(?!"+j+"{2})")+"("+Ke+")")+"?\\]?$")}}var f=h(!1),v=h(!0),O=function(){function d(s,p){var j=[],R=!0,J=!1,W=void 0;try{for(var se=s[Symbol.iterator](),ce;!(R=(ce=se.next()).done)&&(j.push(ce.value),!(p&&j.length===p));R=!0);}catch(he){J=!0,W=he}finally{try{!R&&se.return&&se.return()}finally{if(J)throw W}}return j}return function(s,p){if(Array.isArray(s))return s;if(Symbol.iterator in Object(s))return d(s,p);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(d){if(Array.isArray(d)){for(var s=0,p=Array(d.length);s<d.length;s++)p[s]=d[s];return p}else return Array.from(d)},_=2147483647,w=36,g=1,y=26,T=38,P=700,I=72,z=128,N="-",k=/^xn--/,V=/[^\0-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,K={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Q=w-g,B=Math.floor,ae=String.fromCharCode;function re(d){throw new RangeError(K[d])}function be(d,s){for(var p=[],j=d.length;j--;)p[j]=s(d[j]);return p}function Me(d,s){var p=d.split("@"),j="";p.length>1&&(j=p[0]+"@",d=p[1]),d=d.replace(F,".");var R=d.split("."),J=be(R,s).join(".");return j+J}function Le(d){for(var s=[],p=0,j=d.length;p<j;){var R=d.charCodeAt(p++);if(R>=55296&&R<=56319&&p<j){var J=d.charCodeAt(p++);(J&64512)==56320?s.push(((R&1023)<<10)+(J&1023)+65536):(s.push(R),p--)}else s.push(R)}return s}var Ze=function(s){return String.fromCodePoint.apply(String,E(s))},Be=function(s){return s-48<10?s-22:s-65<26?s-65:s-97<26?s-97:w},q=function(s,p){return s+22+75*(s<26)-((p!=0)<<5)},b=function(s,p,j){var R=0;for(s=j?B(s/P):s>>1,s+=B(s/p);s>Q*y>>1;R+=w)s=B(s/Q);return B(R+(Q+1)*s/(s+T))},M=function(s){var p=[],j=s.length,R=0,J=z,W=I,se=s.lastIndexOf(N);se<0&&(se=0);for(var ce=0;ce<se;++ce)s.charCodeAt(ce)>=128&&re("not-basic"),p.push(s.charCodeAt(ce));for(var he=se>0?se+1:0;he<j;){for(var ne=R,ie=1,me=w;;me+=w){he>=j&&re("invalid-input");var Y=Be(s.charCodeAt(he++));(Y>=w||Y>B((_-R)/ie))&&re("overflow"),R+=Y*ie;var le=me<=W?g:me>=W+y?y:me-W;if(Y<le)break;var ye=w-le;ie>B(_/ye)&&re("overflow"),ie*=ye}var de=p.length+1;W=b(R-ne,de,ne==0),B(R/de)>_-J&&re("overflow"),J+=B(R/de),R%=de,p.splice(R++,0,J)}return String.fromCodePoint.apply(String,p)},C=function(s){var p=[];s=Le(s);var j=s.length,R=z,J=0,W=I,se=!0,ce=!1,he=void 0;try{for(var ne=s[Symbol.iterator](),ie;!(se=(ie=ne.next()).done);se=!0){var me=ie.value;me<128&&p.push(ae(me))}}catch(Et){ce=!0,he=Et}finally{try{!se&&ne.return&&ne.return()}finally{if(ce)throw he}}var Y=p.length,le=Y;for(Y&&p.push(N);le<j;){var ye=_,de=!0,We=!1,ze=void 0;try{for(var Fe=s[Symbol.iterator](),dt;!(de=(dt=Fe.next()).done);de=!0){var tt=dt.value;tt>=R&&tt<ye&&(ye=tt)}}catch(Et){We=!0,ze=Et}finally{try{!de&&Fe.return&&Fe.return()}finally{if(We)throw ze}}var Re=le+1;ye-R>B((_-J)/Re)&&re("overflow"),J+=(ye-R)*Re,R=ye;var Ue=!0,rt=!1,Ke=void 0;try{for(var wt=s[Symbol.iterator](),ln;!(Ue=(ln=wt.next()).done);Ue=!0){var dn=ln.value;if(dn<R&&++J>_&&re("overflow"),dn==R){for(var zt=J,Ft=w;;Ft+=w){var Ut=Ft<=W?g:Ft>=W+y?y:Ft-W;if(zt<Ut)break;var fn=zt-Ut,hn=w-Ut;p.push(ae(q(Ut+fn%hn,0))),zt=B(fn/hn)}p.push(ae(q(zt,0))),W=b(J,Re,le==Y),J=0,++le}}}catch(Et){rt=!0,Ke=Et}finally{try{!Ue&&wt.return&&wt.return()}finally{if(rt)throw Ke}}++J,++R}return p.join("")},a=function(s){return Me(s,function(p){return k.test(p)?M(p.slice(4).toLowerCase()):p})},m=function(s){return Me(s,function(p){return V.test(p)?"xn--"+C(p):p})},D={version:"2.1.0",ucs2:{decode:Le,encode:Ze},decode:M,encode:C,toASCII:m,toUnicode:a},L={};function H(d){var s=d.charCodeAt(0),p=void 0;return s<16?p="%0"+s.toString(16).toUpperCase():s<128?p="%"+s.toString(16).toUpperCase():s<2048?p="%"+(s>>6|192).toString(16).toUpperCase()+"%"+(s&63|128).toString(16).toUpperCase():p="%"+(s>>12|224).toString(16).toUpperCase()+"%"+(s>>6&63|128).toString(16).toUpperCase()+"%"+(s&63|128).toString(16).toUpperCase(),p}function x(d){for(var s="",p=0,j=d.length;p<j;){var R=parseInt(d.substr(p+1,2),16);if(R<128)s+=String.fromCharCode(R),p+=3;else if(R>=194&&R<224){if(j-p>=6){var J=parseInt(d.substr(p+4,2),16);s+=String.fromCharCode((R&31)<<6|J&63)}else s+=d.substr(p,6);p+=6}else if(R>=224){if(j-p>=9){var W=parseInt(d.substr(p+4,2),16),se=parseInt(d.substr(p+7,2),16);s+=String.fromCharCode((R&15)<<12|(W&63)<<6|se&63)}else s+=d.substr(p,9);p+=9}else s+=d.substr(p,3),p+=3}return s}function ee(d,s){function p(j){var R=x(j);return R.match(s.UNRESERVED)?R:j}return d.scheme&&(d.scheme=String(d.scheme).replace(s.PCT_ENCODED,p).toLowerCase().replace(s.NOT_SCHEME,"")),d.userinfo!==void 0&&(d.userinfo=String(d.userinfo).replace(s.PCT_ENCODED,p).replace(s.NOT_USERINFO,H).replace(s.PCT_ENCODED,l)),d.host!==void 0&&(d.host=String(d.host).replace(s.PCT_ENCODED,p).toLowerCase().replace(s.NOT_HOST,H).replace(s.PCT_ENCODED,l)),d.path!==void 0&&(d.path=String(d.path).replace(s.PCT_ENCODED,p).replace(d.scheme?s.NOT_PATH:s.NOT_PATH_NOSCHEME,H).replace(s.PCT_ENCODED,l)),d.query!==void 0&&(d.query=String(d.query).replace(s.PCT_ENCODED,p).replace(s.NOT_QUERY,H).replace(s.PCT_ENCODED,l)),d.fragment!==void 0&&(d.fragment=String(d.fragment).replace(s.PCT_ENCODED,p).replace(s.NOT_FRAGMENT,H).replace(s.PCT_ENCODED,l)),d}function $(d){return d.replace(/^0*(.*)/,"$1")||"0"}function S(d,s){var p=d.match(s.IPV4ADDRESS)||[],j=O(p,2),R=j[1];return R?R.split(".").map($).join("."):d}function A(d,s){var p=d.match(s.IPV6ADDRESS)||[],j=O(p,3),R=j[1],J=j[2];if(R){for(var W=R.toLowerCase().split("::").reverse(),se=O(W,2),ce=se[0],he=se[1],ne=he?he.split(":").map($):[],ie=ce.split(":").map($),me=s.IPV4ADDRESS.test(ie[ie.length-1]),Y=me?7:8,le=ie.length-Y,ye=Array(Y),de=0;de<Y;++de)ye[de]=ne[de]||ie[le+de]||"";me&&(ye[Y-1]=S(ye[Y-1],s));var We=ye.reduce(function(Re,Ue,rt){if(!Ue||Ue==="0"){var Ke=Re[Re.length-1];Ke&&Ke.index+Ke.length===rt?Ke.length++:Re.push({index:rt,length:1})}return Re},[]),ze=We.sort(function(Re,Ue){return Ue.length-Re.length})[0],Fe=void 0;if(ze&&ze.length>1){var dt=ye.slice(0,ze.index),tt=ye.slice(ze.index+ze.length);Fe=dt.join(":")+"::"+tt.join(":")}else Fe=ye.join(":");return J&&(Fe+="%"+J),Fe}else return d}var U=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,G="".match(/(){0}/)[1]===void 0;function X(d){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p={},j=s.iri!==!1?v:f;s.reference==="suffix"&&(d=(s.scheme?s.scheme+":":"")+"//"+d);var R=d.match(U);if(R){G?(p.scheme=R[1],p.userinfo=R[3],p.host=R[4],p.port=parseInt(R[5],10),p.path=R[6]||"",p.query=R[7],p.fragment=R[8],isNaN(p.port)&&(p.port=R[5])):(p.scheme=R[1]||void 0,p.userinfo=d.indexOf("@")!==-1?R[3]:void 0,p.host=d.indexOf("//")!==-1?R[4]:void 0,p.port=parseInt(R[5],10),p.path=R[6]||"",p.query=d.indexOf("?")!==-1?R[7]:void 0,p.fragment=d.indexOf("#")!==-1?R[8]:void 0,isNaN(p.port)&&(p.port=d.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?R[4]:void 0)),p.host&&(p.host=A(S(p.host,j),j)),p.scheme===void 0&&p.userinfo===void 0&&p.host===void 0&&p.port===void 0&&!p.path&&p.query===void 0?p.reference="same-document":p.scheme===void 0?p.reference="relative":p.fragment===void 0?p.reference="absolute":p.reference="uri",s.reference&&s.reference!=="suffix"&&s.reference!==p.reference&&(p.error=p.error||"URI is not a "+s.reference+" reference.");var J=L[(s.scheme||p.scheme||"").toLowerCase()];if(!s.unicodeSupport&&(!J||!J.unicodeSupport)){if(p.host&&(s.domainHost||J&&J.domainHost))try{p.host=D.toASCII(p.host.replace(j.PCT_ENCODED,x).toLowerCase())}catch(W){p.error=p.error||"Host's domain name can not be converted to ASCII via punycode: "+W}ee(p,f)}else ee(p,j);J&&J.parse&&J.parse(p,s)}else p.error=p.error||"URI can not be parsed.";return p}function ve(d,s){var p=s.iri!==!1?v:f,j=[];return d.userinfo!==void 0&&(j.push(d.userinfo),j.push("@")),d.host!==void 0&&j.push(A(S(String(d.host),p),p).replace(p.IPV6ADDRESS,function(R,J,W){return"["+J+(W?"%25"+W:"")+"]"})),(typeof d.port=="number"||typeof d.port=="string")&&(j.push(":"),j.push(String(d.port))),j.length?j.join(""):void 0}var Pe=/^\.\.?\//,_e=/^\/\.(\/|$)/,ge=/^\/\.\.(\/|$)/,$e=/^\/?(?:.|\n)*?(?=\/|$)/;function Ce(d){for(var s=[];d.length;)if(d.match(Pe))d=d.replace(Pe,"");else if(d.match(_e))d=d.replace(_e,"/");else if(d.match(ge))d=d.replace(ge,"/"),s.pop();else if(d==="."||d==="..")d="";else{var p=d.match($e);if(p){var j=p[0];d=d.slice(j.length),s.push(j)}else throw new Error("Unexpected dot segment condition")}return s.join("")}function fe(d){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=s.iri?v:f,j=[],R=L[(s.scheme||d.scheme||"").toLowerCase()];if(R&&R.serialize&&R.serialize(d,s),d.host&&!p.IPV6ADDRESS.test(d.host)){if(s.domainHost||R&&R.domainHost)try{d.host=s.iri?D.toUnicode(d.host):D.toASCII(d.host.replace(p.PCT_ENCODED,x).toLowerCase())}catch(se){d.error=d.error||"Host's domain name can not be converted to "+(s.iri?"Unicode":"ASCII")+" via punycode: "+se}}ee(d,p),s.reference!=="suffix"&&d.scheme&&(j.push(d.scheme),j.push(":"));var J=ve(d,s);if(J!==void 0&&(s.reference!=="suffix"&&j.push("//"),j.push(J),d.path&&d.path.charAt(0)!=="/"&&j.push("/")),d.path!==void 0){var W=d.path;!s.absolutePath&&(!R||!R.absolutePath)&&(W=Ce(W)),J===void 0&&(W=W.replace(/^\/\//,"/%2F")),j.push(W)}return d.query!==void 0&&(j.push("?"),j.push(d.query)),d.fragment!==void 0&&(j.push("#"),j.push(d.fragment)),j.join("")}function ut(d,s){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments[3],R={};return j||(d=X(fe(d,p),p),s=X(fe(s,p),p)),p=p||{},!p.tolerant&&s.scheme?(R.scheme=s.scheme,R.userinfo=s.userinfo,R.host=s.host,R.port=s.port,R.path=Ce(s.path||""),R.query=s.query):(s.userinfo!==void 0||s.host!==void 0||s.port!==void 0?(R.userinfo=s.userinfo,R.host=s.host,R.port=s.port,R.path=Ce(s.path||""),R.query=s.query):(s.path?(s.path.charAt(0)==="/"?R.path=Ce(s.path):((d.userinfo!==void 0||d.host!==void 0||d.port!==void 0)&&!d.path?R.path="/"+s.path:d.path?R.path=d.path.slice(0,d.path.lastIndexOf("/")+1)+s.path:R.path=s.path,R.path=Ce(R.path)),R.query=s.query):(R.path=d.path,s.query!==void 0?R.query=s.query:R.query=d.query),R.userinfo=d.userinfo,R.host=d.host,R.port=d.port),R.scheme=d.scheme),R.fragment=s.fragment,R}function $t(d,s,p){var j=u({scheme:"null"},p);return fe(ut(X(d,j),X(s,j),j,!0),j)}function xe(d,s){return typeof d=="string"?d=fe(X(d,s),s):c(d)==="object"&&(d=X(fe(d,s),s)),d}function _t(d,s,p){return typeof d=="string"?d=fe(X(d,p),p):c(d)==="object"&&(d=fe(d,p)),typeof s=="string"?s=fe(X(s,p),p):c(s)==="object"&&(s=fe(s,p)),d===s}function Vt(d,s){return d&&d.toString().replace(!s||!s.iri?f.ESCAPE:v.ESCAPE,H)}function Te(d,s){return d&&d.toString().replace(!s||!s.iri?f.PCT_ENCODED:v.PCT_ENCODED,x)}var et={scheme:"http",domainHost:!0,parse:function(s,p){return s.host||(s.error=s.error||"HTTP URIs must have a host."),s},serialize:function(s,p){var j=String(s.scheme).toLowerCase()==="https";return(s.port===(j?443:80)||s.port==="")&&(s.port=void 0),s.path||(s.path="/"),s}},tn={scheme:"https",domainHost:et.domainHost,parse:et.parse,serialize:et.serialize};function rn(d){return typeof d.secure=="boolean"?d.secure:String(d.scheme).toLowerCase()==="wss"}var gt={scheme:"ws",domainHost:!0,parse:function(s,p){var j=s;return j.secure=rn(j),j.resourceName=(j.path||"/")+(j.query?"?"+j.query:""),j.path=void 0,j.query=void 0,j},serialize:function(s,p){if((s.port===(rn(s)?443:80)||s.port==="")&&(s.port=void 0),typeof s.secure=="boolean"&&(s.scheme=s.secure?"wss":"ws",s.secure=void 0),s.resourceName){var j=s.resourceName.split("?"),R=O(j,2),J=R[0],W=R[1];s.path=J&&J!=="/"?J:void 0,s.query=W,s.resourceName=void 0}return s.fragment=void 0,s}},nn={scheme:"wss",domainHost:gt.domainHost,parse:gt.parse,serialize:gt.serialize},ia={},an="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ve="[0-9A-Fa-f]",ca=n(n("%[EFef]"+Ve+"%"+Ve+Ve+"%"+Ve+Ve)+"|"+n("%[89A-Fa-f]"+Ve+"%"+Ve+Ve)+"|"+n("%"+Ve+Ve)),ua="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",la="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",da=o(la,'[\\"\\\\]'),fa="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ha=new RegExp(an,"g"),lt=new RegExp(ca,"g"),ma=new RegExp(o("[^]",ua,"[\\.]",'[\\"]',da),"g"),sn=new RegExp(o("[^]",an,fa),"g"),pa=sn;function or(d){var s=x(d);return s.match(ha)?s:d}var on={scheme:"mailto",parse:function(s,p){var j=s,R=j.to=j.path?j.path.split(","):[];if(j.path=void 0,j.query){for(var J=!1,W={},se=j.query.split("&"),ce=0,he=se.length;ce<he;++ce){var ne=se[ce].split("=");switch(ne[0]){case"to":for(var ie=ne[1].split(","),me=0,Y=ie.length;me<Y;++me)R.push(ie[me]);break;case"subject":j.subject=Te(ne[1],p);break;case"body":j.body=Te(ne[1],p);break;default:J=!0,W[Te(ne[0],p)]=Te(ne[1],p);break}}J&&(j.headers=W)}j.query=void 0;for(var le=0,ye=R.length;le<ye;++le){var de=R[le].split("@");if(de[0]=Te(de[0]),p.unicodeSupport)de[1]=Te(de[1],p).toLowerCase();else try{de[1]=D.toASCII(Te(de[1],p).toLowerCase())}catch(We){j.error=j.error||"Email address's domain name can not be converted to ASCII via punycode: "+We}R[le]=de.join("@")}return j},serialize:function(s,p){var j=s,R=i(s.to);if(R){for(var J=0,W=R.length;J<W;++J){var se=String(R[J]),ce=se.lastIndexOf("@"),he=se.slice(0,ce).replace(lt,or).replace(lt,l).replace(ma,H),ne=se.slice(ce+1);try{ne=p.iri?D.toUnicode(ne):D.toASCII(Te(ne,p).toLowerCase())}catch(le){j.error=j.error||"Email address's domain name can not be converted to "+(p.iri?"Unicode":"ASCII")+" via punycode: "+le}R[J]=he+"@"+ne}j.path=R.join(",")}var ie=s.headers=s.headers||{};s.subject&&(ie.subject=s.subject),s.body&&(ie.body=s.body);var me=[];for(var Y in ie)ie[Y]!==ia[Y]&&me.push(Y.replace(lt,or).replace(lt,l).replace(sn,H)+"="+ie[Y].replace(lt,or).replace(lt,l).replace(pa,H));return me.length&&(j.query=me.join("&")),j}},ya=/^([^\:]+)\:(.*)/,cn={scheme:"urn",parse:function(s,p){var j=s.path&&s.path.match(ya),R=s;if(j){var J=p.scheme||R.scheme||"urn",W=j[1].toLowerCase(),se=j[2],ce=J+":"+(p.nid||W),he=L[ce];R.nid=W,R.nss=se,R.path=void 0,he&&(R=he.parse(R,p))}else R.error=R.error||"URN can not be parsed.";return R},serialize:function(s,p){var j=p.scheme||s.scheme||"urn",R=s.nid,J=j+":"+(p.nid||R),W=L[J];W&&(s=W.serialize(s,p));var se=s,ce=s.nss;return se.path=(R||p.nid)+":"+ce,se}},va=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,un={scheme:"urn:uuid",parse:function(s,p){var j=s;return j.uuid=j.nss,j.nss=void 0,!p.tolerant&&(!j.uuid||!j.uuid.match(va))&&(j.error=j.error||"UUID is not valid."),j},serialize:function(s,p){var j=s;return j.nss=(s.uuid||"").toLowerCase(),j}};L[et.scheme]=et,L[tn.scheme]=tn,L[gt.scheme]=gt,L[nn.scheme]=nn,L[on.scheme]=on,L[cn.scheme]=cn,L[un.scheme]=un,r.SCHEMES=L,r.pctEncChar=H,r.pctDecChars=x,r.parse=X,r.removeDotSegments=Ce,r.serialize=fe,r.resolveComponents=ut,r.resolve=$t,r.normalize=xe,r.equal=_t,r.escapeComponent=Vt,r.unescapeComponent=Te,Object.defineProperty(r,"__esModule",{value:!0})})})(mr,mr.exports);var $s=mr.exports;Object.defineProperty(br,"__esModule",{value:!0});const Bn=$s;Bn.code='require("ajv/dist/runtime/uri").default';br.default=Bn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=rr();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Z;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const o=Dt,n=At,c=it,l=Oe,i=Z,u=Ee,h=jt,f=oe,v=vs,O=br,E=(q,b)=>new RegExp(q,b);E.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},T=200;function P(q){var b,M,C,a,m,D,L,H,x,ee,$,S,A,U,G,X,ve,Pe,_e,ge,$e,Ce,fe,ut,$t;const xe=q.strict,_t=(b=q.code)===null||b===void 0?void 0:b.optimize,Vt=_t===!0||_t===void 0?1:_t||0,Te=(C=(M=q.code)===null||M===void 0?void 0:M.regExp)!==null&&C!==void 0?C:E,et=(a=q.uriResolver)!==null&&a!==void 0?a:O.default;return{strictSchema:(D=(m=q.strictSchema)!==null&&m!==void 0?m:xe)!==null&&D!==void 0?D:!0,strictNumbers:(H=(L=q.strictNumbers)!==null&&L!==void 0?L:xe)!==null&&H!==void 0?H:!0,strictTypes:(ee=(x=q.strictTypes)!==null&&x!==void 0?x:xe)!==null&&ee!==void 0?ee:"log",strictTuples:(S=($=q.strictTuples)!==null&&$!==void 0?$:xe)!==null&&S!==void 0?S:"log",strictRequired:(U=(A=q.strictRequired)!==null&&A!==void 0?A:xe)!==null&&U!==void 0?U:!1,code:q.code?{...q.code,optimize:Vt,regExp:Te}:{optimize:Vt,regExp:Te},loopRequired:(G=q.loopRequired)!==null&&G!==void 0?G:T,loopEnum:(X=q.loopEnum)!==null&&X!==void 0?X:T,meta:(ve=q.meta)!==null&&ve!==void 0?ve:!0,messages:(Pe=q.messages)!==null&&Pe!==void 0?Pe:!0,inlineRefs:(_e=q.inlineRefs)!==null&&_e!==void 0?_e:!0,schemaId:(ge=q.schemaId)!==null&&ge!==void 0?ge:"$id",addUsedSchema:($e=q.addUsedSchema)!==null&&$e!==void 0?$e:!0,validateSchema:(Ce=q.validateSchema)!==null&&Ce!==void 0?Ce:!0,validateFormats:(fe=q.validateFormats)!==null&&fe!==void 0?fe:!0,unicodeRegExp:(ut=q.unicodeRegExp)!==null&&ut!==void 0?ut:!0,int32range:($t=q.int32range)!==null&&$t!==void 0?$t:!0,uriResolver:et}}class I{constructor(b={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,b=this.opts={...b,...P(b)};const{es5:M,lines:C}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:w,es5:M,lines:C}),this.logger=B(b.logger);const a=b.validateFormats;b.validateFormats=!1,this.RULES=(0,c.getRules)(),z.call(this,g,b,"NOT SUPPORTED"),z.call(this,y,b,"DEPRECATED","warn"),this._metaOpts=K.call(this),b.formats&&V.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),b.keywords&&F.call(this,b.keywords),typeof b.meta=="object"&&this.addMetaSchema(b.meta),k.call(this),b.validateFormats=a}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:b,meta:M,schemaId:C}=this.opts;let a=v;C==="id"&&(a={...v},a.id=a.$id,delete a.$id),M&&b&&this.addMetaSchema(a,a[C],!1)}defaultMeta(){const{meta:b,schemaId:M}=this.opts;return this.opts.defaultMeta=typeof b=="object"?b[M]||b:void 0}validate(b,M){let C;if(typeof b=="string"){if(C=this.getSchema(b),!C)throw new Error(`no schema with key or ref "${b}"`)}else C=this.compile(b);const a=C(M);return"$async"in C||(this.errors=C.errors),a}compile(b,M){const C=this._addSchema(b,M);return C.validate||this._compileSchemaEnv(C)}compileAsync(b,M){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return a.call(this,b,M);async function a(ee,$){await m.call(this,ee.$schema);const S=this._addSchema(ee,$);return S.validate||D.call(this,S)}async function m(ee){ee&&!this.getSchema(ee)&&await a.call(this,{$ref:ee},!0)}async function D(ee){try{return this._compileSchemaEnv(ee)}catch($){if(!($ instanceof n.default))throw $;return L.call(this,$),await H.call(this,$.missingSchema),D.call(this,ee)}}function L({missingSchema:ee,missingRef:$}){if(this.refs[ee])throw new Error(`AnySchema ${ee} is loaded but ${$} cannot be resolved`)}async function H(ee){const $=await x.call(this,ee);this.refs[ee]||await m.call(this,$.$schema),this.refs[ee]||this.addSchema($,ee,M)}async function x(ee){const $=this._loading[ee];if($)return $;try{return await(this._loading[ee]=C(ee))}finally{delete this._loading[ee]}}}addSchema(b,M,C,a=this.opts.validateSchema){if(Array.isArray(b)){for(const D of b)this.addSchema(D,void 0,C,a);return this}let m;if(typeof b=="object"){const{schemaId:D}=this.opts;if(m=b[D],m!==void 0&&typeof m!="string")throw new Error(`schema ${D} must be string`)}return M=(0,u.normalizeId)(M||m),this._checkUnique(M),this.schemas[M]=this._addSchema(b,C,M,a,!0),this}addMetaSchema(b,M,C=this.opts.validateSchema){return this.addSchema(b,M,!0,C),this}validateSchema(b,M){if(typeof b=="boolean")return!0;let C;if(C=b.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const a=this.validate(C,b);if(!a&&M){const m="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(m);else throw new Error(m)}return a}getSchema(b){let M;for(;typeof(M=N.call(this,b))=="string";)b=M;if(M===void 0){const{schemaId:C}=this.opts,a=new l.SchemaEnv({schema:{},schemaId:C});if(M=l.resolveSchema.call(this,a,b),!M)return;this.refs[b]=M}return M.validate||this._compileSchemaEnv(M)}removeSchema(b){if(b instanceof RegExp)return this._removeAllSchemas(this.schemas,b),this._removeAllSchemas(this.refs,b),this;switch(typeof b){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const M=N.call(this,b);return typeof M=="object"&&this._cache.delete(M.schema),delete this.schemas[b],delete this.refs[b],this}case"object":{const M=b;this._cache.delete(M);let C=b[this.opts.schemaId];return C&&(C=(0,u.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(b){for(const M of b)this.addKeyword(M);return this}addKeyword(b,M){let C;if(typeof b=="string")C=b,typeof M=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),M.keyword=C);else if(typeof b=="object"&&M===void 0){if(M=b,C=M.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(re.call(this,C,M),!M)return(0,f.eachItem)(C,m=>be.call(this,m)),this;Le.call(this,M);const a={...M,type:(0,h.getJSONTypes)(M.type),schemaType:(0,h.getJSONTypes)(M.schemaType)};return(0,f.eachItem)(C,a.type.length===0?m=>be.call(this,m,a):m=>a.type.forEach(D=>be.call(this,m,a,D))),this}getKeyword(b){const M=this.RULES.all[b];return typeof M=="object"?M.definition:!!M}removeKeyword(b){const{RULES:M}=this;delete M.keywords[b],delete M.all[b];for(const C of M.rules){const a=C.rules.findIndex(m=>m.keyword===b);a>=0&&C.rules.splice(a,1)}return this}addFormat(b,M){return typeof M=="string"&&(M=new RegExp(M)),this.formats[b]=M,this}errorsText(b=this.errors,{separator:M=", ",dataVar:C="data"}={}){return!b||b.length===0?"No errors":b.map(a=>`${C}${a.instancePath} ${a.message}`).reduce((a,m)=>a+M+m)}$dataMetaSchema(b,M){const C=this.RULES.all;b=JSON.parse(JSON.stringify(b));for(const a of M){const m=a.split("/").slice(1);let D=b;for(const L of m)D=D[L];for(const L in C){const H=C[L];if(typeof H!="object")continue;const{$data:x}=H.definition,ee=D[L];x&&ee&&(D[L]=Be(ee))}}return b}_removeAllSchemas(b,M){for(const C in b){const a=b[C];(!M||M.test(C))&&(typeof a=="string"?delete b[C]:a&&!a.meta&&(this._cache.delete(a.schema),delete b[C]))}}_addSchema(b,M,C,a=this.opts.validateSchema,m=this.opts.addUsedSchema){let D;const{schemaId:L}=this.opts;if(typeof b=="object")D=b[L];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof b!="boolean")throw new Error("schema must be object or boolean")}let H=this._cache.get(b);if(H!==void 0)return H;C=(0,u.normalizeId)(D||C);const x=u.getSchemaRefs.call(this,b,C);return H=new l.SchemaEnv({schema:b,schemaId:L,meta:M,baseId:C,localRefs:x}),this._cache.set(H.schema,H),m&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=H),a&&this.validateSchema(b,!0),H}_checkUnique(b){if(this.schemas[b]||this.refs[b])throw new Error(`schema with key or id "${b}" already exists`)}_compileSchemaEnv(b){if(b.meta?this._compileMetaSchema(b):l.compileSchema.call(this,b),!b.validate)throw new Error("ajv implementation error");return b.validate}_compileMetaSchema(b){const M=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,b)}finally{this.opts=M}}}e.default=I,I.ValidationError=o.default,I.MissingRefError=n.default;function z(q,b,M,C="error"){for(const a in q){const m=a;m in b&&this.logger[C](`${M}: option ${a}. ${q[m]}`)}}function N(q){return q=(0,u.normalizeId)(q),this.schemas[q]||this.refs[q]}function k(){const q=this.opts.schemas;if(q)if(Array.isArray(q))this.addSchema(q);else for(const b in q)this.addSchema(q[b],b)}function V(){for(const q in this.opts.formats){const b=this.opts.formats[q];b&&this.addFormat(q,b)}}function F(q){if(Array.isArray(q)){this.addVocabulary(q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const b in q){const M=q[b];M.keyword||(M.keyword=b),this.addKeyword(M)}}function K(){const q={...this.opts};for(const b of _)delete q[b];return q}const Q={log(){},warn(){},error(){}};function B(q){if(q===!1)return Q;if(q===void 0)return console;if(q.log&&q.warn&&q.error)return q;throw new Error("logger must implement log, warn and error methods")}const ae=/^[a-z_$][a-z0-9_$:-]*$/i;function re(q,b){const{RULES:M}=this;if((0,f.eachItem)(q,C=>{if(M.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!ae.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!b&&b.$data&&!("code"in b||"validate"in b))throw new Error('$data keyword must have "code" or "validate" function')}function be(q,b,M){var C;const a=b==null?void 0:b.post;if(M&&a)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:m}=this;let D=a?m.post:m.rules.find(({type:H})=>H===M);if(D||(D={type:M,rules:[]},m.rules.push(D)),m.keywords[q]=!0,!b)return;const L={keyword:q,definition:{...b,type:(0,h.getJSONTypes)(b.type),schemaType:(0,h.getJSONTypes)(b.schemaType)}};b.before?Me.call(this,D,L,b.before):D.rules.push(L),m.all[q]=L,(C=b.implements)===null||C===void 0||C.forEach(H=>this.addKeyword(H))}function Me(q,b,M){const C=q.rules.findIndex(a=>a.keyword===M);C>=0?q.rules.splice(C,0,b):(q.rules.push(b),this.logger.warn(`rule ${M} is not defined`))}function Le(q){let{metaSchema:b}=q;b!==void 0&&(q.$data&&this.opts.$data&&(b=Be(b)),q.validateSchema=this.compile(b,!0))}const Ze={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Be(q){return{anyOf:[q,Ze]}}})(Mn);var Sr={},Pr={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});const _s={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Nr.default=_s;var ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.callRef=ct.getValidate=void 0;const gs=At,En=te,Ne=Z,ft=qe,bn=Oe,Kt=oe,ws={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:o}=e,{baseId:n,schemaEnv:c,validateName:l,opts:i,self:u}=o,{root:h}=c;if((r==="#"||r==="#/")&&n===h.baseId)return v();const f=bn.resolveRef.call(u,h,n,r);if(f===void 0)throw new gs.default(o.opts.uriResolver,n,r);if(f instanceof bn.SchemaEnv)return O(f);return E(f);function v(){if(c===h)return Xt(e,l,c,c.$async);const _=t.scopeValue("root",{ref:h});return Xt(e,(0,Ne._)`${_}.validate`,h,h.$async)}function O(_){const w=Wn(e,_);Xt(e,w,_,_.$async)}function E(_){const w=t.scopeValue("schema",i.code.source===!0?{ref:_,code:(0,Ne.stringify)(_)}:{ref:_}),g=t.name("valid"),y=e.subschema({schema:_,dataTypes:[],schemaPath:Ne.nil,topSchemaRef:w,errSchemaPath:r},g);e.mergeEvaluated(y),e.ok(g)}}};function Wn(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ne._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ct.getValidate=Wn;function Xt(e,t,r,o){const{gen:n,it:c}=e,{allErrors:l,schemaEnv:i,opts:u}=c,h=u.passContext?ft.default.this:Ne.nil;o?f():v();function f(){if(!i.$async)throw new Error("async schema referenced by sync schema");const _=n.let("valid");n.try(()=>{n.code((0,Ne._)`await ${(0,En.callValidateCode)(e,t,h)}`),E(t),l||n.assign(_,!0)},w=>{n.if((0,Ne._)`!(${w} instanceof ${c.ValidationError})`,()=>n.throw(w)),O(w),l||n.assign(_,!1)}),e.ok(_)}function v(){e.result((0,En.callValidateCode)(e,t,h),()=>E(t),()=>O(t))}function O(_){const w=(0,Ne._)`${_}.errors`;n.assign(ft.default.vErrors,(0,Ne._)`${ft.default.vErrors} === null ? ${w} : ${ft.default.vErrors}.concat(${w})`),n.assign(ft.default.errors,(0,Ne._)`${ft.default.vErrors}.length`)}function E(_){var w;if(!c.opts.unevaluated)return;const g=(w=r==null?void 0:r.validate)===null||w===void 0?void 0:w.evaluated;if(c.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(c.props=Kt.mergeEvaluated.props(n,g.props,c.props));else{const y=n.var("props",(0,Ne._)`${_}.evaluated.props`);c.props=Kt.mergeEvaluated.props(n,y,c.props,Ne.Name)}if(c.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(c.items=Kt.mergeEvaluated.items(n,g.items,c.items));else{const y=n.var("items",(0,Ne._)`${_}.evaluated.items`);c.items=Kt.mergeEvaluated.items(n,y,c.items,Ne.Name)}}}ct.callRef=Xt;ct.default=ws;Object.defineProperty(Pr,"__esModule",{value:!0});const Es=Nr,bs=ct,Ss=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Es.default,bs.default];Pr.default=Ss;var Or={},Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});const Zt=Z,Qe=Zt.operators,xt={maximum:{okStr:"<=",ok:Qe.LTE,fail:Qe.GT},minimum:{okStr:">=",ok:Qe.GTE,fail:Qe.LT},exclusiveMaximum:{okStr:"<",ok:Qe.LT,fail:Qe.GTE},exclusiveMinimum:{okStr:">",ok:Qe.GT,fail:Qe.LTE}},Ps={message:({keyword:e,schemaCode:t})=>(0,Zt.str)`must be ${xt[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Zt._)`{comparison: ${xt[e].okStr}, limit: ${t}}`},Ns={keyword:Object.keys(xt),type:"number",schemaType:"number",$data:!0,error:Ps,code(e){const{keyword:t,data:r,schemaCode:o}=e;e.fail$data((0,Zt._)`${r} ${xt[t].fail} ${o} || isNaN(${r})`)}};Cr.default=Ns;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});const Ot=Z,Os={message:({schemaCode:e})=>(0,Ot.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Ot._)`{multipleOf: ${e}}`},Cs={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Os,code(e){const{gen:t,data:r,schemaCode:o,it:n}=e,c=n.opts.multipleOfPrecision,l=t.let("res"),i=c?(0,Ot._)`Math.abs(Math.round(${l}) - ${l}) > 1e-${c}`:(0,Ot._)`${l} !== parseInt(${l})`;e.fail$data((0,Ot._)`(${o} === 0 || (${l} = ${r}/${o}, ${i}))`)}};Tr.default=Cs;var Rr={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});function Xn(e){const t=e.length;let r=0,o=0,n;for(;o<t;)r++,n=e.charCodeAt(o++),n>=55296&&n<=56319&&o<t&&(n=e.charCodeAt(o),(n&64512)===56320&&o++);return r}kr.default=Xn;Xn.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Rr,"__esModule",{value:!0});const st=Z,Ts=oe,Rs=kr,ks={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,st.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,st._)`{limit: ${e}}`},js={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:ks,code(e){const{keyword:t,data:r,schemaCode:o,it:n}=e,c=t==="maxLength"?st.operators.GT:st.operators.LT,l=n.opts.unicode===!1?(0,st._)`${r}.length`:(0,st._)`${(0,Ts.useFunc)(e.gen,Rs.default)}(${r})`;e.fail$data((0,st._)`${l} ${c} ${o}`)}};Rr.default=js;var jr={};Object.defineProperty(jr,"__esModule",{value:!0});const Is=te,er=Z,Ds={message:({schemaCode:e})=>(0,er.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,er._)`{pattern: ${e}}`},As={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Ds,code(e){const{data:t,$data:r,schema:o,schemaCode:n,it:c}=e,l=c.opts.unicodeRegExp?"u":"",i=r?(0,er._)`(new RegExp(${n}, ${l}))`:(0,Is.usePattern)(e,o);e.fail$data((0,er._)`!${i}.test(${t})`)}};jr.default=As;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});const Ct=Z,Ms={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Ct.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ct._)`{limit: ${e}}`},Vs={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Ms,code(e){const{keyword:t,data:r,schemaCode:o}=e,n=t==="maxProperties"?Ct.operators.GT:Ct.operators.LT;e.fail$data((0,Ct._)`Object.keys(${r}).length ${n} ${o}`)}};Ir.default=Vs;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});const Pt=te,Tt=Z,zs=oe,Fs={message:({params:{missingProperty:e}})=>(0,Tt.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Tt._)`{missingProperty: ${e}}`},Us={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Fs,code(e){const{gen:t,schema:r,schemaCode:o,data:n,$data:c,it:l}=e,{opts:i}=l;if(!c&&r.length===0)return;const u=r.length>=i.loopRequired;if(l.allErrors?h():f(),i.strictRequired){const E=e.parentSchema.properties,{definedProperties:_}=e.it;for(const w of r)if((E==null?void 0:E[w])===void 0&&!_.has(w)){const g=l.schemaEnv.baseId+l.errSchemaPath,y=`required property "${w}" is not defined at "${g}" (strictRequired)`;(0,zs.checkStrictMode)(l,y,l.opts.strictRequired)}}function h(){if(u||c)e.block$data(Tt.nil,v);else for(const E of r)(0,Pt.checkReportMissingProp)(e,E)}function f(){const E=t.let("missing");if(u||c){const _=t.let("valid",!0);e.block$data(_,()=>O(E,_)),e.ok(_)}else t.if((0,Pt.checkMissingProp)(e,r,E)),(0,Pt.reportMissingProp)(e,E),t.else()}function v(){t.forOf("prop",o,E=>{e.setParams({missingProperty:E}),t.if((0,Pt.noPropertyInData)(t,n,E,i.ownProperties),()=>e.error())})}function O(E,_){e.setParams({missingProperty:E}),t.forOf(E,o,()=>{t.assign(_,(0,Pt.propertyInData)(t,n,E,i.ownProperties)),t.if((0,Tt.not)(_),()=>{e.error(),t.break()})},Tt.nil)}}};Dr.default=Us;var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});const Rt=Z,qs={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Rt.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Rt._)`{limit: ${e}}`},Ls={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:qs,code(e){const{keyword:t,data:r,schemaCode:o}=e,n=t==="maxItems"?Rt.operators.GT:Rt.operators.LT;e.fail$data((0,Rt._)`${r}.length ${n} ${o}`)}};Ar.default=Ls;var Mr={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});const Qn=qn;Qn.code='require("ajv/dist/runtime/equal").default';Mt.default=Qn;Object.defineProperty(Mr,"__esModule",{value:!0});const ur=jt,we=Z,Ks=oe,Hs=Mt,Gs={message:({params:{i:e,j:t}})=>(0,we.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,we._)`{i: ${e}, j: ${t}}`},Js={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Gs,code(e){const{gen:t,data:r,$data:o,schema:n,parentSchema:c,schemaCode:l,it:i}=e;if(!o&&!n)return;const u=t.let("valid"),h=c.items?(0,ur.getSchemaTypes)(c.items):[];e.block$data(u,f,(0,we._)`${l} === false`),e.ok(u);function f(){const _=t.let("i",(0,we._)`${r}.length`),w=t.let("j");e.setParams({i:_,j:w}),t.assign(u,!0),t.if((0,we._)`${_} > 1`,()=>(v()?O:E)(_,w))}function v(){return h.length>0&&!h.some(_=>_==="object"||_==="array")}function O(_,w){const g=t.name("item"),y=(0,ur.checkDataTypes)(h,g,i.opts.strictNumbers,ur.DataType.Wrong),T=t.const("indices",(0,we._)`{}`);t.for((0,we._)`;${_}--;`,()=>{t.let(g,(0,we._)`${r}[${_}]`),t.if(y,(0,we._)`continue`),h.length>1&&t.if((0,we._)`typeof ${g} == "string"`,(0,we._)`${g} += "_"`),t.if((0,we._)`typeof ${T}[${g}] == "number"`,()=>{t.assign(w,(0,we._)`${T}[${g}]`),e.error(),t.assign(u,!1).break()}).code((0,we._)`${T}[${g}] = ${_}`)})}function E(_,w){const g=(0,Ks.useFunc)(t,Hs.default),y=t.name("outer");t.label(y).for((0,we._)`;${_}--;`,()=>t.for((0,we._)`${w} = ${_}; ${w}--;`,()=>t.if((0,we._)`${g}(${r}[${_}], ${r}[${w}])`,()=>{e.error(),t.assign(u,!1).break(y)})))}}};Mr.default=Js;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});const pr=Z,Bs=oe,Ws=Mt,Xs={message:"must be equal to constant",params:({schemaCode:e})=>(0,pr._)`{allowedValue: ${e}}`},Qs={keyword:"const",$data:!0,error:Xs,code(e){const{gen:t,data:r,$data:o,schemaCode:n,schema:c}=e;o||c&&typeof c=="object"?e.fail$data((0,pr._)`!${(0,Bs.useFunc)(t,Ws.default)}(${r}, ${n})`):e.fail((0,pr._)`${c} !== ${r}`)}};Vr.default=Qs;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});const Nt=Z,Ys=oe,Zs=Mt,xs={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Nt._)`{allowedValues: ${e}}`},eo={keyword:"enum",schemaType:"array",$data:!0,error:xs,code(e){const{gen:t,data:r,$data:o,schema:n,schemaCode:c,it:l}=e;if(!o&&n.length===0)throw new Error("enum must have non-empty array");const i=n.length>=l.opts.loopEnum;let u;const h=()=>u??(u=(0,Ys.useFunc)(t,Zs.default));let f;if(i||o)f=t.let("valid"),e.block$data(f,v);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const E=t.const("vSchema",c);f=(0,Nt.or)(...n.map((_,w)=>O(E,w)))}e.pass(f);function v(){t.assign(f,!1),t.forOf("v",c,E=>t.if((0,Nt._)`${h()}(${r}, ${E})`,()=>t.assign(f,!0).break()))}function O(E,_){const w=n[_];return typeof w=="object"&&w!==null?(0,Nt._)`${h()}(${r}, ${E}[${_}])`:(0,Nt._)`${r} === ${w}`}}};zr.default=eo;Object.defineProperty(Or,"__esModule",{value:!0});const to=Cr,ro=Tr,no=Rr,ao=jr,so=Ir,oo=Dr,io=Ar,co=Mr,uo=Vr,lo=zr,fo=[to.default,ro.default,no.default,ao.default,so.default,oo.default,io.default,co.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},uo.default,lo.default];Or.default=fo;var Fr={},yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.validateAdditionalItems=void 0;const ot=Z,yr=oe,ho={message:({params:{len:e}})=>(0,ot.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ot._)`{limit: ${e}}`},mo={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:ho,code(e){const{parentSchema:t,it:r}=e,{items:o}=t;if(!Array.isArray(o)){(0,yr.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Yn(e,o)}};function Yn(e,t){const{gen:r,schema:o,data:n,keyword:c,it:l}=e;l.items=!0;const i=r.const("len",(0,ot._)`${n}.length`);if(o===!1)e.setParams({len:t.length}),e.pass((0,ot._)`${i} <= ${t.length}`);else if(typeof o=="object"&&!(0,yr.alwaysValidSchema)(l,o)){const h=r.var("valid",(0,ot._)`${i} <= ${t.length}`);r.if((0,ot.not)(h),()=>u(h)),e.ok(h)}function u(h){r.forRange("i",t.length,i,f=>{e.subschema({keyword:c,dataProp:f,dataPropType:yr.Type.Num},h),l.allErrors||r.if((0,ot.not)(h),()=>r.break())})}}yt.validateAdditionalItems=Yn;yt.default=mo;var Ur={},vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.validateTuple=void 0;const Sn=Z,Qt=oe,po=te,yo={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Zn(e,"additionalItems",t);r.items=!0,!(0,Qt.alwaysValidSchema)(r,t)&&e.ok((0,po.validateArray)(e))}};function Zn(e,t,r=e.schema){const{gen:o,parentSchema:n,data:c,keyword:l,it:i}=e;f(n),i.opts.unevaluated&&r.length&&i.items!==!0&&(i.items=Qt.mergeEvaluated.items(o,r.length,i.items));const u=o.name("valid"),h=o.const("len",(0,Sn._)`${c}.length`);r.forEach((v,O)=>{(0,Qt.alwaysValidSchema)(i,v)||(o.if((0,Sn._)`${h} > ${O}`,()=>e.subschema({keyword:l,schemaProp:O,dataProp:O},u)),e.ok(u))});function f(v){const{opts:O,errSchemaPath:E}=i,_=r.length,w=_===v.minItems&&(_===v.maxItems||v[t]===!1);if(O.strictTuples&&!w){const g=`"${l}" is ${_}-tuple, but minItems or maxItems/${t} are not specified or different at path "${E}"`;(0,Qt.checkStrictMode)(i,g,O.strictTuples)}}}vt.validateTuple=Zn;vt.default=yo;Object.defineProperty(Ur,"__esModule",{value:!0});const vo=vt,$o={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,vo.validateTuple)(e,"items")};Ur.default=$o;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});const Pn=Z,_o=oe,go=te,wo=yt,Eo={message:({params:{len:e}})=>(0,Pn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Pn._)`{limit: ${e}}`},bo={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Eo,code(e){const{schema:t,parentSchema:r,it:o}=e,{prefixItems:n}=r;o.items=!0,!(0,_o.alwaysValidSchema)(o,t)&&(n?(0,wo.validateAdditionalItems)(e,n):e.ok((0,go.validateArray)(e)))}};qr.default=bo;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});const ke=Z,Ht=oe,So={message:({params:{min:e,max:t}})=>t===void 0?(0,ke.str)`must contain at least ${e} valid item(s)`:(0,ke.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ke._)`{minContains: ${e}}`:(0,ke._)`{minContains: ${e}, maxContains: ${t}}`},Po={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:So,code(e){const{gen:t,schema:r,parentSchema:o,data:n,it:c}=e;let l,i;const{minContains:u,maxContains:h}=o;c.opts.next?(l=u===void 0?1:u,i=h):l=1;const f=t.const("len",(0,ke._)`${n}.length`);if(e.setParams({min:l,max:i}),i===void 0&&l===0){(0,Ht.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(i!==void 0&&l>i){(0,Ht.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Ht.alwaysValidSchema)(c,r)){let w=(0,ke._)`${f} >= ${l}`;i!==void 0&&(w=(0,ke._)`${w} && ${f} <= ${i}`),e.pass(w);return}c.items=!0;const v=t.name("valid");i===void 0&&l===1?E(v,()=>t.if(v,()=>t.break())):l===0?(t.let(v,!0),i!==void 0&&t.if((0,ke._)`${n}.length > 0`,O)):(t.let(v,!1),O()),e.result(v,()=>e.reset());function O(){const w=t.name("_valid"),g=t.let("count",0);E(w,()=>t.if(w,()=>_(g)))}function E(w,g){t.forRange("i",0,f,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:Ht.Type.Num,compositeRule:!0},w),g()})}function _(w){t.code((0,ke._)`${w}++`),i===void 0?t.if((0,ke._)`${w} >= ${l}`,()=>t.assign(v,!0).break()):(t.if((0,ke._)`${w} > ${i}`,()=>t.assign(v,!1).break()),l===1?t.assign(v,!0):t.if((0,ke._)`${w} >= ${l}`,()=>t.assign(v,!0)))}}};Lr.default=Po;var xn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Z,r=oe,o=te;e.error={message:({params:{property:u,depsCount:h,deps:f}})=>{const v=h===1?"property":"properties";return(0,t.str)`must have ${v} ${f} when property ${u} is present`},params:({params:{property:u,depsCount:h,deps:f,missingProperty:v}})=>(0,t._)`{property: ${u},
    missingProperty: ${v},
    depsCount: ${h},
    deps: ${f}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[h,f]=c(u);l(u,h),i(u,f)}};function c({schema:u}){const h={},f={};for(const v in u){if(v==="__proto__")continue;const O=Array.isArray(u[v])?h:f;O[v]=u[v]}return[h,f]}function l(u,h=u.schema){const{gen:f,data:v,it:O}=u;if(Object.keys(h).length===0)return;const E=f.let("missing");for(const _ in h){const w=h[_];if(w.length===0)continue;const g=(0,o.propertyInData)(f,v,_,O.opts.ownProperties);u.setParams({property:_,depsCount:w.length,deps:w.join(", ")}),O.allErrors?f.if(g,()=>{for(const y of w)(0,o.checkReportMissingProp)(u,y)}):(f.if((0,t._)`${g} && (${(0,o.checkMissingProp)(u,w,E)})`),(0,o.reportMissingProp)(u,E),f.else())}}e.validatePropertyDeps=l;function i(u,h=u.schema){const{gen:f,data:v,keyword:O,it:E}=u,_=f.name("valid");for(const w in h)(0,r.alwaysValidSchema)(E,h[w])||(f.if((0,o.propertyInData)(f,v,w,E.opts.ownProperties),()=>{const g=u.subschema({keyword:O,schemaProp:w},_);u.mergeValidEvaluated(g,_)},()=>f.var(_,!0)),u.ok(_))}e.validateSchemaDeps=i,e.default=n})(xn);var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});const ea=Z,No=oe,Oo={message:"property name must be valid",params:({params:e})=>(0,ea._)`{propertyName: ${e.propertyName}}`},Co={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Oo,code(e){const{gen:t,schema:r,data:o,it:n}=e;if((0,No.alwaysValidSchema)(n,r))return;const c=t.name("valid");t.forIn("key",o,l=>{e.setParams({propertyName:l}),e.subschema({keyword:"propertyNames",data:l,dataTypes:["string"],propertyName:l,compositeRule:!0},c),t.if((0,ea.not)(c),()=>{e.error(!0),n.allErrors||t.break()})}),e.ok(c)}};Kr.default=Co;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});const Gt=te,De=Z,To=qe,Jt=oe,Ro={message:"must NOT have additional properties",params:({params:e})=>(0,De._)`{additionalProperty: ${e.additionalProperty}}`},ko={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Ro,code(e){const{gen:t,schema:r,parentSchema:o,data:n,errsCount:c,it:l}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:i,opts:u}=l;if(l.props=!0,u.removeAdditional!=="all"&&(0,Jt.alwaysValidSchema)(l,r))return;const h=(0,Gt.allSchemaProperties)(o.properties),f=(0,Gt.allSchemaProperties)(o.patternProperties);v(),e.ok((0,De._)`${c} === ${To.default.errors}`);function v(){t.forIn("key",n,g=>{!h.length&&!f.length?_(g):t.if(O(g),()=>_(g))})}function O(g){let y;if(h.length>8){const T=(0,Jt.schemaRefOrVal)(l,o.properties,"properties");y=(0,Gt.isOwnProperty)(t,T,g)}else h.length?y=(0,De.or)(...h.map(T=>(0,De._)`${g} === ${T}`)):y=De.nil;return f.length&&(y=(0,De.or)(y,...f.map(T=>(0,De._)`${(0,Gt.usePattern)(e,T)}.test(${g})`))),(0,De.not)(y)}function E(g){t.code((0,De._)`delete ${n}[${g}]`)}function _(g){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){E(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),i||t.break();return}if(typeof r=="object"&&!(0,Jt.alwaysValidSchema)(l,r)){const y=t.name("valid");u.removeAdditional==="failing"?(w(g,y,!1),t.if((0,De.not)(y),()=>{e.reset(),E(g)})):(w(g,y),i||t.if((0,De.not)(y),()=>t.break()))}}function w(g,y,T){const P={keyword:"additionalProperties",dataProp:g,dataPropType:Jt.Type.Str};T===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(P,y)}}};sr.default=ko;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});const jo=rr(),Nn=te,lr=oe,On=sr,Io={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:o,data:n,it:c}=e;c.opts.removeAdditional==="all"&&o.additionalProperties===void 0&&On.default.code(new jo.KeywordCxt(c,On.default,"additionalProperties"));const l=(0,Nn.allSchemaProperties)(r);for(const v of l)c.definedProperties.add(v);c.opts.unevaluated&&l.length&&c.props!==!0&&(c.props=lr.mergeEvaluated.props(t,(0,lr.toHash)(l),c.props));const i=l.filter(v=>!(0,lr.alwaysValidSchema)(c,r[v]));if(i.length===0)return;const u=t.name("valid");for(const v of i)h(v)?f(v):(t.if((0,Nn.propertyInData)(t,n,v,c.opts.ownProperties)),f(v),c.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(v),e.ok(u);function h(v){return c.opts.useDefaults&&!c.compositeRule&&r[v].default!==void 0}function f(v){e.subschema({keyword:"properties",schemaProp:v,dataProp:v},u)}}};Hr.default=Io;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});const Cn=te,Bt=Z,Tn=oe,Rn=oe,Do={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:o,parentSchema:n,it:c}=e,{opts:l}=c,i=(0,Cn.allSchemaProperties)(r),u=i.filter(w=>(0,Tn.alwaysValidSchema)(c,r[w]));if(i.length===0||u.length===i.length&&(!c.opts.unevaluated||c.props===!0))return;const h=l.strictSchema&&!l.allowMatchingProperties&&n.properties,f=t.name("valid");c.props!==!0&&!(c.props instanceof Bt.Name)&&(c.props=(0,Rn.evaluatedPropsToName)(t,c.props));const{props:v}=c;O();function O(){for(const w of i)h&&E(w),c.allErrors?_(w):(t.var(f,!0),_(w),t.if(f))}function E(w){for(const g in h)new RegExp(w).test(g)&&(0,Tn.checkStrictMode)(c,`property ${g} matches pattern ${w} (use allowMatchingProperties)`)}function _(w){t.forIn("key",o,g=>{t.if((0,Bt._)`${(0,Cn.usePattern)(e,w)}.test(${g})`,()=>{const y=u.includes(w);y||e.subschema({keyword:"patternProperties",schemaProp:w,dataProp:g,dataPropType:Rn.Type.Str},f),c.opts.unevaluated&&v!==!0?t.assign((0,Bt._)`${v}[${g}]`,!0):!y&&!c.allErrors&&t.if((0,Bt.not)(f),()=>t.break())})})}}};Gr.default=Do;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});const Ao=oe,Mo={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:o}=e;if((0,Ao.alwaysValidSchema)(o,r)){e.fail();return}const n=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),e.failResult(n,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Jr.default=Mo;var Br={};Object.defineProperty(Br,"__esModule",{value:!0});const Vo=te,zo={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Vo.validateUnion,error:{message:"must match a schema in anyOf"}};Br.default=zo;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});const Yt=Z,Fo=oe,Uo={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Yt._)`{passingSchemas: ${e.passing}}`},qo={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Uo,code(e){const{gen:t,schema:r,parentSchema:o,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&o.discriminator)return;const c=r,l=t.let("valid",!1),i=t.let("passing",null),u=t.name("_valid");e.setParams({passing:i}),t.block(h),e.result(l,()=>e.reset(),()=>e.error(!0));function h(){c.forEach((f,v)=>{let O;(0,Fo.alwaysValidSchema)(n,f)?t.var(u,!0):O=e.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},u),v>0&&t.if((0,Yt._)`${u} && ${l}`).assign(l,!1).assign(i,(0,Yt._)`[${i}, ${v}]`).else(),t.if(u,()=>{t.assign(l,!0),t.assign(i,v),O&&e.mergeEvaluated(O,Yt.Name)})})}}};Wr.default=qo;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});const Lo=oe,Ko={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=t.name("valid");r.forEach((c,l)=>{if((0,Lo.alwaysValidSchema)(o,c))return;const i=e.subschema({keyword:"allOf",schemaProp:l},n);e.ok(n),e.mergeEvaluated(i)})}};Xr.default=Ko;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});const tr=Z,ta=oe,Ho={message:({params:e})=>(0,tr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,tr._)`{failingKeyword: ${e.ifClause}}`},Go={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Ho,code(e){const{gen:t,parentSchema:r,it:o}=e;r.then===void 0&&r.else===void 0&&(0,ta.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const n=kn(o,"then"),c=kn(o,"else");if(!n&&!c)return;const l=t.let("valid",!0),i=t.name("_valid");if(u(),e.reset(),n&&c){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(i,h("then",f),h("else",f))}else n?t.if(i,h("then")):t.if((0,tr.not)(i),h("else"));e.pass(l,()=>e.error(!0));function u(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},i);e.mergeEvaluated(f)}function h(f,v){return()=>{const O=e.subschema({keyword:f},i);t.assign(l,i),e.mergeValidEvaluated(O,l),v?t.assign(v,(0,tr._)`${f}`):e.setParams({ifClause:f})}}}};function kn(e,t){const r=e.schema[t];return r!==void 0&&!(0,ta.alwaysValidSchema)(e,r)}Qr.default=Go;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});const Jo=oe,Bo={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Jo.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Yr.default=Bo;Object.defineProperty(Fr,"__esModule",{value:!0});const Wo=yt,Xo=Ur,Qo=vt,Yo=qr,Zo=Lr,xo=xn,ei=Kr,ti=sr,ri=Hr,ni=Gr,ai=Jr,si=Br,oi=Wr,ii=Xr,ci=Qr,ui=Yr;function li(e=!1){const t=[ai.default,si.default,oi.default,ii.default,ci.default,ui.default,ei.default,ti.default,xo.default,ri.default,ni.default];return e?t.push(Xo.default,Yo.default):t.push(Wo.default,Qo.default),t.push(Zo.default),t}Fr.default=li;var Zr={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});const pe=Z,di={message:({schemaCode:e})=>(0,pe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,pe._)`{format: ${e}}`},fi={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:di,code(e,t){const{gen:r,data:o,$data:n,schema:c,schemaCode:l,it:i}=e,{opts:u,errSchemaPath:h,schemaEnv:f,self:v}=i;if(!u.validateFormats)return;n?O():E();function O(){const _=r.scopeValue("formats",{ref:v.formats,code:u.code.formats}),w=r.const("fDef",(0,pe._)`${_}[${l}]`),g=r.let("fType"),y=r.let("format");r.if((0,pe._)`typeof ${w} == "object" && !(${w} instanceof RegExp)`,()=>r.assign(g,(0,pe._)`${w}.type || "string"`).assign(y,(0,pe._)`${w}.validate`),()=>r.assign(g,(0,pe._)`"string"`).assign(y,w)),e.fail$data((0,pe.or)(T(),P()));function T(){return u.strictSchema===!1?pe.nil:(0,pe._)`${l} && !${y}`}function P(){const I=f.$async?(0,pe._)`(${w}.async ? await ${y}(${o}) : ${y}(${o}))`:(0,pe._)`${y}(${o})`,z=(0,pe._)`(typeof ${y} == "function" ? ${I} : ${y}.test(${o}))`;return(0,pe._)`${y} && ${y} !== true && ${g} === ${t} && !${z}`}}function E(){const _=v.formats[c];if(!_){T();return}if(_===!0)return;const[w,g,y]=P(_);w===t&&e.pass(I());function T(){if(u.strictSchema===!1){v.logger.warn(z());return}throw new Error(z());function z(){return`unknown format "${c}" ignored in schema at path "${h}"`}}function P(z){const N=z instanceof RegExp?(0,pe.regexpCode)(z):u.code.formats?(0,pe._)`${u.code.formats}${(0,pe.getProperty)(c)}`:void 0,k=r.scopeValue("formats",{key:c,ref:z,code:N});return typeof z=="object"&&!(z instanceof RegExp)?[z.type||"string",z.validate,(0,pe._)`${k}.validate`]:["string",z,k]}function I(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!f.$async)throw new Error("async format in sync schema");return(0,pe._)`await ${y}(${o})`}return typeof g=="function"?(0,pe._)`${y}(${o})`:(0,pe._)`${y}.test(${o})`}}}};xr.default=fi;Object.defineProperty(Zr,"__esModule",{value:!0});const hi=xr,mi=[hi.default];Zr.default=mi;var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.contentVocabulary=pt.metadataVocabulary=void 0;pt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];pt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Sr,"__esModule",{value:!0});const pi=Pr,yi=Or,vi=Fr,$i=Zr,jn=pt,_i=[pi.default,yi.default,(0,vi.default)(),$i.default,jn.metadataVocabulary,jn.contentVocabulary];Sr.default=_i;var en={},ra={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(ra);Object.defineProperty(en,"__esModule",{value:!0});const ht=Z,vr=ra,In=Oe,gi=oe,wi={message:({params:{discrError:e,tagName:t}})=>e===vr.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,ht._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Ei={keyword:"discriminator",type:"object",schemaType:"object",error:wi,code(e){const{gen:t,data:r,schema:o,parentSchema:n,it:c}=e,{oneOf:l}=n;if(!c.opts.discriminator)throw new Error("discriminator: requires discriminator option");const i=o.propertyName;if(typeof i!="string")throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),h=t.const("tag",(0,ht._)`${r}${(0,ht.getProperty)(i)}`);t.if((0,ht._)`typeof ${h} == "string"`,()=>f(),()=>e.error(!1,{discrError:vr.DiscrError.Tag,tag:h,tagName:i})),e.ok(u);function f(){const E=O();t.if(!1);for(const _ in E)t.elseIf((0,ht._)`${h} === ${_}`),t.assign(u,v(E[_]));t.else(),e.error(!1,{discrError:vr.DiscrError.Mapping,tag:h,tagName:i}),t.endIf()}function v(E){const _=t.name("valid"),w=e.subschema({keyword:"oneOf",schemaProp:E},_);return e.mergeEvaluated(w,ht.Name),_}function O(){var E;const _={},w=y(n);let g=!0;for(let I=0;I<l.length;I++){let z=l[I];z!=null&&z.$ref&&!(0,gi.schemaHasRulesButRef)(z,c.self.RULES)&&(z=In.resolveRef.call(c.self,c.schemaEnv.root,c.baseId,z==null?void 0:z.$ref),z instanceof In.SchemaEnv&&(z=z.schema));const N=(E=z==null?void 0:z.properties)===null||E===void 0?void 0:E[i];if(typeof N!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${i}"`);g=g&&(w||y(z)),T(N,I)}if(!g)throw new Error(`discriminator: "${i}" must be required`);return _;function y({required:I}){return Array.isArray(I)&&I.includes(i)}function T(I,z){if(I.const)P(I.const,z);else if(I.enum)for(const N of I.enum)P(N,z);else throw new Error(`discriminator: "properties/${i}" must have "const" or "enum"`)}function P(I,z){if(typeof I!="string"||I in _)throw new Error(`discriminator: "${i}" values must be unique strings`);_[I]=z}}}};en.default=Ei;const bi="http://json-schema.org/draft-07/schema#",Si="http://json-schema.org/draft-07/schema#",Pi="Core schema meta-schema",Ni={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Oi=["object","boolean"],Ci={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Ti={$schema:bi,$id:Si,title:Pi,definitions:Ni,type:Oi,properties:Ci,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Mn,o=Sr,n=en,c=Ti,l=["/properties"],i="http://json-schema.org/draft-07/schema";class u extends r.default{_addVocabularies(){super._addVocabularies(),o.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(c,l):c;this.addMetaSchema(_,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var h=rr();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var f=Z;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var v=Dt;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return v.default}});var O=At;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return O.default}})})(dr,dr.exports);var na=dr.exports;const Ri=Dn(na);var $r={exports:{}},aa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(F,K){return{validate:F,compare:K}}e.fullFormats={date:t(c,l),time:t(u,h),"date-time":t(v,O),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:w,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:V,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:I},int64:{type:"number",validate:z},float:{type:"number",validate:N},double:{type:"number",validate:N},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,l),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,h),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,O),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(F){return F%4===0&&(F%100!==0||F%400===0)}const o=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,n=[0,31,28,31,30,31,30,31,31,30,31,30,31];function c(F){const K=o.exec(F);if(!K)return!1;const Q=+K[1],B=+K[2],ae=+K[3];return B>=1&&B<=12&&ae>=1&&ae<=(B===2&&r(Q)?29:n[B])}function l(F,K){if(F&&K)return F>K?1:F<K?-1:0}const i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function u(F,K){const Q=i.exec(F);if(!Q)return!1;const B=+Q[1],ae=+Q[2],re=+Q[3],be=Q[5];return(B<=23&&ae<=59&&re<=59||B===23&&ae===59&&re===60)&&(!K||be!=="")}function h(F,K){if(!(F&&K))return;const Q=i.exec(F),B=i.exec(K);if(Q&&B)return F=Q[1]+Q[2]+Q[3]+(Q[4]||""),K=B[1]+B[2]+B[3]+(B[4]||""),F>K?1:F<K?-1:0}const f=/t|\s/i;function v(F){const K=F.split(f);return K.length===2&&c(K[0])&&u(K[1],!0)}function O(F,K){if(!(F&&K))return;const[Q,B]=F.split(f),[ae,re]=K.split(f),be=l(Q,ae);if(be!==void 0)return be||h(B,re)}const E=/\/|:/,_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function w(F){return E.test(F)&&_.test(F)}const g=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(F){return g.lastIndex=0,g.test(F)}const T=-(2**31),P=2**31-1;function I(F){return Number.isInteger(F)&&F<=P&&F>=T}function z(F){return Number.isInteger(F)}function N(){return!0}const k=/[^\\]\\Z/;function V(F){if(k.test(F))return!1;try{return new RegExp(F),!0}catch{return!1}}})(aa);var sa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=na,r=Z,o=r.operators,n={formatMaximum:{okStr:"<=",ok:o.LTE,fail:o.GT},formatMinimum:{okStr:">=",ok:o.GTE,fail:o.LT},formatExclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},formatExclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},c={message:({keyword:i,schemaCode:u})=>r.str`should be ${n[i].okStr} ${u}`,params:({keyword:i,schemaCode:u})=>r._`{comparison: ${n[i].okStr}, limit: ${u}}`};e.formatLimitDefinition={keyword:Object.keys(n),type:"string",schemaType:"string",$data:!0,error:c,code(i){const{gen:u,data:h,schemaCode:f,keyword:v,it:O}=i,{opts:E,self:_}=O;if(!E.validateFormats)return;const w=new t.KeywordCxt(O,_.RULES.all.format.definition,"format");w.$data?g():y();function g(){const P=u.scopeValue("formats",{ref:_.formats,code:E.code.formats}),I=u.const("fmt",r._`${P}[${w.schemaCode}]`);i.fail$data(r.or(r._`typeof ${I} != "object"`,r._`${I} instanceof RegExp`,r._`typeof ${I}.compare != "function"`,T(I)))}function y(){const P=w.schema,I=_.formats[P];if(!I||I===!0)return;if(typeof I!="object"||I instanceof RegExp||typeof I.compare!="function")throw new Error(`"${v}": format "${P}" does not define "compare" function`);const z=u.scopeValue("formats",{key:P,ref:I,code:E.code.formats?r._`${E.code.formats}${r.getProperty(P)}`:void 0});i.fail$data(T(z))}function T(P){return r._`${P}.compare(${h}, ${f}) ${n[v].fail} 0`}},dependencies:["format"]};const l=i=>(i.addKeyword(e.formatLimitDefinition),i);e.default=l})(sa);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=aa,o=sa,n=Z,c=new n.Name("fullFormats"),l=new n.Name("fastFormats"),i=(h,f={keywords:!0})=>{if(Array.isArray(f))return u(h,f,r.fullFormats,c),h;const[v,O]=f.mode==="fast"?[r.fastFormats,l]:[r.fullFormats,c],E=f.formats||r.formatNames;return u(h,E,v,O),f.keywords&&o.default(h),h};i.get=(h,f="full")=>{const O=(f==="fast"?r.fastFormats:r.fullFormats)[h];if(!O)throw new Error(`Unknown format "${h}"`);return O};function u(h,f,v,O){var E,_;(E=(_=h.opts.code).formats)!==null&&E!==void 0||(_.formats=n._`require("ajv-formats/dist/formats").${O}`);for(const w of f)h.addFormat(w,v[w])}e.exports=t=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i})($r,$r.exports);var ki=$r.exports;const ji=Dn(ki),oa=new Ri;ji(oa);const Ii={name:"PluginConfig",props:{name:{type:String,default:""},type:{type:String,default:"scoped"},schemaType:{type:String,default:"route"},readonly:Boolean,isEnabled:Boolean,pluginList:{type:Array,default:()=>[]},initialData:{type:Object,default:()=>({})},onChange:{type:Function,default:()=>function(){}}},data(){return{formOptions:{labelWidth:"90px",labelPosition:"right"},formValues:{content:"{}"},codeEditorConfig:{language:"json",style:{height:"600px"}}}},computed:{drawerTitle(){return""}},created(){},methods:{handleOpen(){const e=this.initialData[this.name];this.formValues={...this.formValues,name:this.name,disable:this.isEnabled?!0:e&&!(e!=null&&e.disable),content:JSON.stringify(e??{},null,2),scope:this.type}},validateData(e){const t=r=>(r.properties||(r.properties={}),r.properties.disable={type:"boolean"},r);return new Promise(r=>{const o=this.pluginList.find(l=>l.name===this.name),n=o==null?void 0:o.schema;n.oneOf?((n==null?void 0:n.oneOf)??[]).forEach(i=>{t(i)}):t(n);const c=oa.compile(n);if(c(e)){r(e);return}for(const l of c.errors){let i="";switch(l.keyword){case"enum":i=`${l.dataPath} ${l.message}${l.params.allowedValues.join(", ")}`;break;case"minItems":case"type":i=`${l.dataPath} ${l.message}`;break;case"oneOf":case"required":i=`${l.message??""}`;break;default:i=`${l.schemaPath} ${l.message}`}this.$notify.error({title:"",message:i,duration:3e3})}})},onDelete(){},async onSubmit(){try{let e;this.validateData(e).then(t=>{this.onChange({formValues:this.formValues,codeData:t}),this.onClose(!0)})}catch(e){throw this.$message.error(e.message),new Error(e.message)}},onClose(e=!1){Object.assign(this.$data,this.$options.data(this)),this.$emit("update:visible"),this.$emit("close-drawer",e)}}},Di=An("span",{class:"font-title"},wa(" Raw Data"),-1),Ai={style:{flex:"auto"}};function Mi(e,t,r,o,n,c){const l=qt("el-divider"),i=qt("CodeEditor"),u=qt("el-button"),h=qt("el-drawer");return _a(),ga(h,pn({title:c.drawerTitle},e.$attrs,{onClose:c.onClose,onOpened:c.handleOpen}),{footer:bt(()=>[An("div",Ai,[Lt(u,{onClick:c.onClose},{default:bt(()=>[mn(" ")]),_:1},8,["onClick"]),Lt(u,{type:"primary",onClick:c.onSubmit},{default:bt(()=>[mn(" ")]),_:1},8,["onClick"])])]),default:bt(()=>[Lt(l,{"content-position":"left"},{default:bt(()=>[Di]),_:1}),Lt(i,pn({ref:"codeEditor",modelValue:n.formValues.content,"onUpdate:modelValue":t[0]||(t[0]=f=>n.formValues.content=f)},n.codeEditorConfig),null,16,["modelValue"])]),_:1},16,["title","onClose","onOpened"])}const Fi=Ea(Ii,[["render",Mi]]);export{Fi as default};
